(function(da,za){var hb=za.BPLRIframeBurst?da.top:da,ib=hb.document,a=BPLR.Util,tb=a.$f,Aa=a.canUseVector,qb=a.css,u=a.createElement,l=BPLR.Sprite,Q=BPLR.Button,Vb=BPLR.event,Oa=BPLR.event,Hb=BPLR.Player.positionType;BPLR.ControlBar=l.extend({default:{children:{controlBarLeft:{},controlBarBg:{},controlBarRight:{},playToggle:{},previous:{},rewind:{},next:{},muteToggle:{},volumeControl:{},currentTimeDisplay:{},timeDivider:{},durationDisplay:{},adTimeDisplay:{},liveInfo:{},chapterInfo:{},storyBoard:{},
fullscreenToggle:{},theaterModeToggle:{},cogwheel:{},brand:{},playlist:{},share:{},airplay:{},pip:{}}},init:function Ba(W,ia){this.default.children||(this.config.children={});a.merge(this.default.children,W.config.controlsPlugins);W.config.cogwheel||delete this.default.children.cogwheel;W.config.volume||(delete this.default.children.muteToggle,delete this.default.children.volumeControl);W.config.fullscreen||delete this.default.children.fullscreenToggle;W.config.theaterMode||delete this.default.children.theaterModeToggle;
W.config.playlistScreen||delete this.default.children.playlist;W.config.shareScreen||delete this.default.children.share;W.config.airplay||delete this.default.children.airplay;Ba.base.call(this,W,ia);!1===W.config.controls&&this.hide();W.add("videoLoadingStart",this.$f(function(){this.hide()}));W.add("videoLoadingEnd",this.$f(function(){this.show()}));W.addOnce("ready",this.$f(this.onPlayerReady));W.add("fullscreenchange",this.$f(this.onFullScreenChange));W.config.vpaid_controls?W.config.vpaid_controls&&
!W.config.autohide_ad_controls&&this.player.add("vpaidStart",this.$f(this.show)):(this.player.add("vpaidStart",this.$f(this.hide)),this.player.add("adEnd",this.$f(this.show)))},enabled:!0,listenersState:!1,createElement:function ia(){return ia.base.call(this,"div",{className:"bplr-controls"})},onPlayerReady:function(){if(this.enabled){var ia=this.player;ia.add("enableInteraction",this.$f(this.onEnableControls));ia.add(["beforeStart","start"],this.$f(this.onNewContent));ia.add("disableInteraction",
this.$f(this.onDisableInteraction))}},onNewContent:function(){this.toggleListeners(!1);this.onEnableControls()},toggleListeners:function(ia){var Ba=ia?"add":"remove";if(this.listenersState!==ia&&(this.listenersState=ia,"remove"!=Ba||this.player.positionType!==Hb.IN_GLIDE||this.player.getAdInProgress())){if("remove"==Ba&&this.player.positionType===Hb.NORMAL&&this.player.getAdInProgress())this.onDisableInteraction();a.hasTouch()&&(this[Ba](["touchstart","touchmove"],this.$f(this.onMouseOver)),this[Ba]("touchend",
this.$f(this.onMouseOut)));BPLR.isMobilePlatform||(this[Ba](["mousemove","mouseover"],this.$f(this.onMouseOver)),this[Ba]("mouseout",this.$f(this.onMouseOut)));this.player[Ba]("show",this.$f(this.fadeIn));this.player[Ba]("hide",this.$f(this.fadeOut))}},fadeIn:function(){BPLR.isMobilePlatform?setTimeout(this.$f(function(){this.player.addClass("bplr-visible-controls");BPLR.isMobilePlatform&&this.visible(!0)}),200):this.player.addClass("bplr-visible-controls")},fadeOut:function(){this.player.removeClass("bplr-visible-controls");
BPLR.isMobilePlatform&&("undefined"==typeof this.player.audioFile||null==this.player.audioFile)&&this.visible(!1)},onMouseOver:function(){this.player.lockShow()},onMouseOut:function(){this.player.unlockShow()},onEnableControls:function(){this.enabled=!0;this.el.style.background="";this.el.style.backgroundColor="";this.el.style.border="";this.el.style.pointerEvents="";this.controlBarLeft.show();this.controlBarBg.show();this.controlBarRight.show();this.toggleListeners(!0)},onFullScreenChange:function(){this.fsDispatched=
!0},onDisableInteraction:function(ia){ia&&ia.type&&"play"==ia.type&&!this.player.getAdInProgress()||(this.el.style.background="none",this.el.style.backgroundColor="none",this.el.style.border="none",this.el.style.pointerEvents="none",this.controlBarLeft.hide(),this.controlBarBg.hide(),this.controlBarRight.hide())},resetSkin:function Ba(){Ba.base.call(this)}});BPLR.ControlBarLeft=l.extend({createElement:function Wb(){return Wb.base.call(this,"div",{className:"bplr-controls-left"})}});BPLR.ControlBarBg=
l.extend({createElement:function Xb(){return Xb.base.call(this,"div",{className:"bplr-controls-middle"})}});BPLR.ControlBarRight=l.extend({createElement:function Yb(){return Yb.base.call(this,"div",{className:"bplr-controls-right"})}});BPLR.TouchOverlay=l.extend({currentListener:"remove",init:function E(ub,jb){E.base.call(this,ub,jb);ub.add(["disableInteraction","adStart"],this.$f(this.onDisableInteraction));ub.add(["enableInteraction","adEnd"],this.$f(this.onEnableInteraction));ub.add(["start"],
this.$f(this.checkClickthrough));ub.add(["ended","newContent"],this.$f(this.reset));ub.addOnce("ready",this.$f(this.onPlayerReady));this.add("mouseover",this.$f(function(){this.player.mouseOver()}))},checkClickthrough:function(){this.player.currentSource&&this.player.currentSource.clickthroughUrl&&""!=this.player.currentSource.clickthroughUrl&&this.css({cursor:"pointer"});"native"==this.player.config.player_type&&this.player.currentSource.pixels&&this.player.currentSource.pixels.clickthrough_url&&
this.css({cursor:"pointer"})},createElement:function jb(){return jb.base.call(this,"div",{className:"bplr-touch-overlay",tabIndex:0})},onPlayerReady:function(){BPLR.isMobilePlatform&&this.add("touchend",this.$f(this.onTouchEnd));BPLR.isMobilePlatform&&!this.player.config.slide_inview||this.add("click",this.$f(this.onClick));this.reset()},reset:function(){var jb=this.player;this.css({cursor:"default"});if(jb.officialTech()||"youtube"!=jb.techName){var E="remove";this.show()}else E="add",this.hide();
this.currentListener!=E&&(this.currentListener=E,jb[E]("show",this.$f(this.hide)),jb[E]("hide",this.$f(this.show)))},show:function E(){BPLR.isMobilePlatform&&this.player.tech.support.hasPoster||E.base.call(this)},onClick:function(E){this.player.trigger("userInteraction");if(!this.player.Video360||!this.player.Video360.viewer){var ta=!1;this.player.currentSource&&this.player.currentSource.clickthroughUrl&&""!=this.player.currentSource.clickthroughUrl&&!this.player.getAdInProgress()&&!this.player.paused()&&
(da.open(this.player.currentSource.clickthroughUrl,"_blank"),this.player.trigger("clickedThrough"),ta=!0);"native"==this.player.config.player_type&&this.player.currentSource.pixels&&this.player.currentSource.pixels.clickthrough_url&&(da.open(this.player.currentSource.pixels.clickthrough_url,"_blank"),this.player.trigger("clickedThrough"),ta=!0,this.player.currentSource.pixels&&this.player.currentSource.pixels.clickthrough&&this.player.pingPixel(this.player.currentSource.pixels.clickthrough));BPLR.isMobilePlatform&&
!ta||this.player.togglePlay(E)}},onTouchEnd:function(){var E=this.player;if(!E.Video360||!E.Video360.viewer)if(E.inFocus?(E.inFocus=!1,E.trigger("hide")):(E.inFocus=!0,E.trigger("show")),BPLR.isMobilePlatform&&!this.player.config.slide_inview)this.onClick()},onDisableInteraction:function(E){this.hide();"adStart"==E.type&&this.player.Advertising&&!this.player.Advertising.isLinear()&&this.player.addOnce(["enableInteraction"],this.$f(this.hide))},onEnableInteraction:function(){this.player.officialTech()&&
this.show()}});BPLR.PlayToggle=Q.extend({data:[{name:"play",skin:"PlayToggle",cls:"bplr-paused",svg:"24.3 27.2'><path fill='#000' transform='scale(1.06) translate(0 0.1)' opacity='0.3' d='M2.2,27.2V0.2l24.1,13.7L2.2,27.2z'/><path fill='#fff' d='M2.2,27.2V0.2l24.1,13.7L2.2,27.2z'/>"},{name:"pause",skin:"Pause",cls:"bplr-playing",svg:"20.4 20'><g fill='#000' transform='scale(1.06) translate(0 0.1)' opacity='0.3'><rect x='4.0' y='3.3' width='3.9' height='13.2'/><rect x='12.2' y='3.3' width='3.9' height='13.2'/></g><g><rect x='4.0' y='3.3' fill='#FFFFFF' width='3.9' height='13.2'/><rect x='12.2' y='3.3' fill='#FFFFFF' width='3.9' height='13.2'/></g>"},
{name:"repeat",skin:"Repeat",cls:"bplr-replay",svg:"20.4 20'><path transform='scale(1.05)' fill='#000' opacity='0.3' d='M15.7,10.1c0,0.1,0,0.2,0,0.4c0,3.1-2.5,5.5-5.5,5.5s-5.5-2.5-5.5-5.5C4.7,7.4,7.2,5,10.2,5v1.7l4.4-3.1 l-4.4-3v1.7c-4.4,0-8,3.6-8,8c0,4.4,3.6,8,8,8s8-3.6,8-8c0.1-0.1,0.1-0.2,0.1-0.4L15.7,10.1z'/><path fill='#FFFFFF' d='M15.7,10.1c0,0.1,0,0.2,0,0.4c0,3.1-2.5,5.5-5.5,5.5s-5.5-2.5-5.5-5.5C4.7,7.4,7.2,5,10.2,5v1.7l4.4-3.1 l-4.4-3v1.7c-4.4,0-8,3.6-8,8c0,4.4,3.6,8,8,8s8-3.6,8-8c0.1-0.1,0.1-0.2,0.1-0.4L15.7,10.1z'/>"}],
default:{title:"Toggle Playback (k)"},init:function na(ta,Ca){ta.config.translate&&ta.config.translate.toggle_play&&(this.default.title=ta.config.translate.toggle_play);na.base.call(this,ta,Ca);this.el.innerHTML=a.generateSVG(this.player.config.Skin[this.data[0].skin]||this.data[0].svg,this.player.id);this.animParams={scale:1,op:1};this.state=0;ta.add(["play","start","playing"],this.$f(this.onPlay));ta.add("pause",this.$f(this.onPause));ta.add("ended",this.$f(this.onEnd));ta.add("adsCompleted",this.$f(this.onAdsCompleted));
BPLR.isMobilePlatform&&ta.add("newContent",this.$f(this.onPause));this.player.config.primaryColor&&this.setPrimaryColor(this.player.config.primaryColor)},appendClassName:function Ca(){return"bplr-play-control bplr-control "+Ca.base.call(this)},onClick:function(Ca){this.player.trigger("userInteraction");this.player.togglePlay(Ca)},onPlay:function(){BPLR.log("PlayToggle onPlay this.state",this.state);this.toggleSkin("pause")},onPause:function(){BPLR.log("PlayToggle onPause this.state",this.state);this.toggleSkin("play")},
onEnd:function(){BPLR.log("PlayToggle onEnd this.state",this.state);this.player.isNextQueued()||this.player.currentSource.intro_video||this.toggleSkin("repeat")},onAdsCompleted:function(){if(this.player.ended())this.onEnd()},setPrimaryColor:function(Ca){this.primaryColor=Ca;if(this.player.config.Skin.id&&1==this.player.config.Skin.id)if(0==this.state||2==this.state){var na=this.el.getElementsByTagName("path")[1];na&&na.setAttribute("fill",Ca)}else if(1==this.state){na=this.el.getElementsByTagName("rect")[2];
var ua=this.el.getElementsByTagName("rect")[3];na&&na.setAttribute("fill",Ca);ua&&ua.setAttribute("fill",Ca)}},toggleSkin:function(Ca){var na=-1;this.data.forEach(function(ua,Ab){ua.name==Ca&&(na=Ab)});0>na||this.state==na||(this.state=na,BPLR.isMobilePlatform?this.changeSkin():a.transitionHelper(this.el,"bplr-control-fadedout",this.$f(this.onPlayButtonScaledDown),100))},changeSkin:function(){Aa()?(this.el.innerHTML=a.generateSVG(this.player.config.Skin[this.data[this.state].skin]||this.data[this.state].svg,
this.player.id),this.primaryColor&&this.setPrimaryColor(this.primaryColor)):(a.removeClass(this.el,"bplr-paused"),a.removeClass(this.el,"bplr-replay"),a.removeClass(this.el,"bplr-playing"),a.addClass(this.el,this.data[this.state].cls))},destroy:function na(){na.base.call(this)},onPlayButtonScaledDown:function(){a.removeClass(this.el,"bplr-control-fadedout");this.changeSkin()}});BPLR.Rewind=Q.extend({svg:"50 41.2'><g class='bplr-rew0' transform = 'translate(1 2)' opacity='0.3' fill='000'><path d='M14.5,39h-3.9V26.7l-3.8,1.1v-2.9l7.3-2.5h0.4V39z'/><path d='M28.5,32.2c0,2.2-0.5,4-1.5,5.2c-1,1.2-2.4,1.8-4.3,1.8c-1.8,0-3.3-0.6-4.3-1.8c-1-1.2-1.5-2.9-1.5-5.2v-3c0-2.2,0.5-4,1.5-5.2c1-1.2,2.4-1.8,4.3-1.8c1.8,0,3.3,0.6,4.3,1.8c1,1.2,1.5,3,1.5,5.2V32.2z M24.7,28.6c0-1.2-0.2-2.1-0.5-2.7c-0.3-0.6-0.8-0.9-1.5-0.9c-0.7,0-1.1,0.3-1.4,0.8c-0.3,0.5-0.5,1.4-0.5,2.5v4.2c0,1.2,0.2,2.1,0.5,2.7c0.3,0.6,0.8,0.9,1.5,0.9c0.7,0,1.1-0.3,1.4-0.8c0.3-0.6,0.5-1.4,0.5-2.6V28.6z'/><polygon points='13.6,5.8 13.6,0.1 0.4,9.2 13.6,18.2 13.6,13 42.6,13 42.6,33.9 35.6,33.9 30.9,41.1 49.8,41.1 49.8,5.8 '/></g><g class='bplr-rew1' fill='#fff'><path d='M14.5,39h-3.9V26.7l-3.8,1.1v-2.9l7.3-2.5h0.4V39z'/><path d='M28.5,32.2c0,2.2-0.5,4-1.5,5.2c-1,1.2-2.4,1.8-4.3,1.8c-1.8,0-3.3-0.6-4.3-1.8c-1-1.2-1.5-2.9-1.5-5.2v-3c0-2.2,0.5-4,1.5-5.2c1-1.2,2.4-1.8,4.3-1.8c1.8,0,3.3,0.6,4.3,1.8c1,1.2,1.5,3,1.5,5.2V32.2z M24.7,28.6c0-1.2-0.2-2.1-0.5-2.7c-0.3-0.6-0.8-0.9-1.5-0.9c-0.7,0-1.1,0.3-1.4,0.8c-0.3,0.5-0.5,1.4-0.5,2.5v4.2c0,1.2,0.2,2.1,0.5,2.7c0.3,0.6,0.8,0.9,1.5,0.9c0.7,0,1.1-0.3,1.4-0.8c0.3-0.6,0.5-1.4,0.5-2.6V28.6z'/><polygon points='13.6,5.8 13.6,0.1 0.4,9.2 13.6,18.2 13.6,13 42.6,13 42.6,33.9 35.6,33.9 30.9,41.1 49.8,41.1 49.8,5.8 '/></g>",
default:{title:"Rewind 10 Seconds"},init:function Ya(ua,Ab){ua.config.previous||(ua.config.translate&&ua.config.translate.prev_video&&(this.default.title=ua.config.translate.rewind),Ya.base.call(this,ua,Ab),this.el.innerHTML=a.generateSVG(ua.config.Skin.Rewind||this.svg),this.fadeOut(),ua.add(["start","enableInteraction"],this.$f(this.checkToShow)),ua.add("disableInteraction",this.$f(this.fadeOut)))},appendClassName:function Ab(){return"bplr-rewind-control bplr-control "+Ab.base.call(this)},onClick:function(){this.player.progressControl.seekBar.stepBack(10);
this.player.trigger("rewind");this.player.trigger("userInteractionLow")},checkToShow:function(){this.player.getAdInProgress()?this.fadeOut():this.fadeIn()},fadeIn:function(){this.removeClass("bplr-hidden");this.toggleListeners(!0)},fadeOut:function(){this.addClass("bplr-hidden");this.toggleListeners(!1)}});BPLR.Previous=Q.extend({svg:"24 24'><g fill='#000' transform='scale(1.06) translate(0 0.1)' opacity='0.3'><polygon points='18.4,4.3 7.3,12 18.4,19.7'/><rect x='5.6' y='4.3' width='1.8' height='15.3'/></g><g fill='#FFFFFF'><polygon points='18.4,4.3 7.3,12 18.4,19.7'/><rect x='5.6' y='4.3' width='1.8' height='15.3'/></g>",
default:{title:"Previous Video"},init:function Pa(Ya,Za){Ya.config.translate&&Ya.config.translate.prev_video&&(this.default.title=Ya.config.translate.prev_video);Pa.base.call(this,Ya,Za);this.el.innerHTML=a.generateSVG(Ya.config.Skin.Previous||this.svg);this.fadeOut();Ya.add(["start","enableInteraction"],this.$f(this.checkToShow));Ya.add("disableInteraction",this.$f(this.fadeOut))},appendClassName:function Za(){return"bplr-previous-control bplr-control "+Za.base.call(this)},onClick:function(){0==
this.player.currentIndex?this.player.currentTime(0):this.player.previous()},checkToShow:function(){var Za=this.player;1!=Za.playlistLength||Za.getAdInProgress()?"loop"!=Za.config.afterPlaylistEnd&&0==Za.currentIndex||Za.getAdInProgress()?this.fadeOut():this.fadeIn():this.hide()},fadeIn:function(){if(this.player.config.previous||this.player.audioFile&&BPLR.isMobilePlatform)this.removeClass("bplr-hidden"),this.toggleListeners(!0)},fadeOut:function(){this.addClass("bplr-hidden");this.toggleListeners(!1)}});
BPLR.Next=Q.extend({svg:"24 24'><g fill='#000' transform='scale(1.06) translate(0 0.1)' opacity='0.3'><polygon points='5.6,4.3 16.7,12 5.6,19.7'/><rect x='16.7' y='4.3' width='1.8' height='15.3'/></g><g fill='#FFFFFF'><polygon points='5.6,4.3 16.7,12 5.6,19.7'/><rect x='16.7' y='4.3' width='1.8' height='15.3'/></g>",default:{title:"Next Video"},init:function $a(Pa,Qa){0!=Pa.config.next&&(Pa.config.translate&&Pa.config.translate.next_video&&(this.default.title=Pa.config.translate.next_video),$a.base.call(this,
Pa,Qa),this.el.innerHTML=a.generateSVG(Pa.config.Skin.Next||this.svg),this.fadeOut(),Pa.add(["start","enableInteraction","playlistchange"],this.$f(this.checkToShow)),Pa.add("disableInteraction",this.$f(this.fadeOut)))},appendClassName:function Qa(){return"bplr-next-control bplr-control "+Qa.base.call(this)},onClick:function(){this.player.next()},checkToShow:function(){var Qa=this.player;1!=Qa.playlistLength||Qa.getAdInProgress()?"loop"!=Qa.config.afterPlaylistEnd&&Qa.currentIndex==Qa.videos.length-
1||Qa.getAdInProgress()?this.fadeOut():this.fadeIn():this.hide()},fadeIn:function(){this.removeClass("bplr-hidden");this.toggleListeners(!0)},fadeOut:function(){this.addClass("bplr-hidden");this.toggleListeners(!1)}});BPLR.CogwheelRendition=l.extend({init:function F($a,L,Da){F.base.call(this,$a,L);BPLR.log("CogwheelRendition INIT",Da);this.rendition=!$a.isDash&&!$a.isHLS||"auto"==this.rendtion||"auto"==Da.rendition?a.Renditions.getResolutionFromRendition(Da.rendition,!0):Da.rendition;this.el.innerHTML=
this.rendition;!this.player.tech.support.qualityManager||a.Renditions.getPreferredRendition()?$a.values.isAutoHlsOn=!1:($a.values.isAutoHlsOn=!0,$a.values.autoHlsChange=!0);this.onQualityChange();$a.add("qualityChange",this.$f(this.onQualityChange));this.add("click",this.$f(this.onClick))},createElement:function L(){return L.base.call(this,"div",{className:"bplr-cogwheel-rendition"})},onClick:function(){var L=this.player;L.trigger("beforeRenditionChange");this.addClass("fontBold");L.currentSource.manuallySelected=
!0;"Auto"==this.rendition?(L.values.autoHlsChange=!L.values.isAutoHlsOn,L.values.isAutoHlsOn=!0,a.Renditions.setPreferredRendition(null,L)):(L.values.autoHlsChange=L.values.isAutoHlsOn,L.values.isAutoHlsOn=!1,a.Renditions.setPreferredRendition(a.Renditions.getRenditionFromResolution(this.rendition,!0),L));L.setVideoSource(L.isDash||L.isHLS?this.rendition:a.Renditions.getRenditionFromResolution(this.rendition)||this.rendition);setTimeout(this.$f(function(){L.trigger("openCogWheelScreen")}),500);L.touch.el.focus({preventScroll:!0})},
onQualityChange:function(){this.player.values.isAutoHlsOn&&"Auto"==this.rendition?(this.addClass("fontBold"),this.el.innerHTML='Auto <span class="bplr-cogwheel-rendition-auto">'+this.player.values.srcQuality+"</span>"):this.player.values.isAutoHlsOn||"Auto"!=this.rendition?this.player.isDash||this.player.isHLS||this.player.values.srcQuality!=this.rendition&&a.Renditions.getResolutionFromRendition(this.player.values.srcQuality,!0)!=this.rendition||this.player.values.isAutoHlsOn?this.player.isDash&&
!this.player.values.isAutoHlsOn&&parseInt(this.rendition.slice(0,-1))==this.player.tech.availableLevels[this.player.tech.bitrate].height?this.addClass("fontBold"):this.player.isHLS&&!this.player.values.isAutoHlsOn&&parseInt(this.rendition.slice(0,-1))==this.player.tech.values.levels[this.player.tech.currentLevel.levels].height?this.addClass("fontBold"):this.removeClass("fontBold"):this.addClass("fontBold"):(this.removeClass("fontBold"),this.el.innerHTML="Auto")},evaluateRendition:function(){tech=
this.player.tech;if("hls"==this.player.techName)return void 0==this.player.tech.currentLevel?this.player.tech.values.levels[this.player.tech.values.currentLevel].height:this.player.tech.currentLevel.height+"p";if("dash"==this.player.techName)return tech.availableLevels[tech.bitrate].height+"p"},removeListeners:function(){this.player.remove("qualityChange",this.$f(this.onQualityChange));this.remove("click",this.$f(this.onClick))}});BPLR.CogwheelScreen=l.extend({init:function v(Da,F){v.base.call(this,
Da,F);Da.add("openCogWheelScreen",this.$f(this.onOpenCogWheelScreen));Da.add("openClosedCaptionsScreen",this.$f(this.onOpenClosedCaptionsScreen));Da.add("start",this.$f(this.fillCogwheel));Da.add("openShareScreen",this.$f(this.onOpenShareScreen));Da.add(["hide","disableInteraction"],this.$f(this.onHide));Da.add("beforeRenditionChange",this.$f(this.onBeforeRenditionChange));this.state=0;this.previousRenditions=[]},createElement:function F(){return F.base.call(this,"div",{className:"bplr-cogwheel-screen"})},
onHide:function(){var F=this.player;if(!BPLR.Util.hasClass(F.el,"bplr-smallest")&&!BPLR.Util.hasClass(F.el,"bplr-smaller")&&!BPLR.Util.hasClass(F.el,"bplr-small")&&this.state)this.onOpenCogWheelScreen()},onOpenShareScreen:function(){if(this.state)this.onOpenCogWheelScreen()},onOpenClosedCaptionsScreen:function(){if(this.state)this.onOpenCogWheelScreen()},onOpenCogWheelScreen:function(){this.state?(this.player.remove("toggleMoreVideos",this.$f(this.closeMe)),this.removeClass("opened")):(this.player.add("toggleMoreVideos",
this.$f(this.closeMe)),this.addClass("opened"));this.state=!this.state},closeMe:function(){this.onOpenCogWheelScreen()},fillCogwheel:function(){var F=this;this.el.innerHTML="";if(0<this.previousRenditions.length){for(var v=0;v<this.previousRenditions.length;v++)this.previousRenditions[v].removeListeners();this.previousRenditions=[]}if(this.player.tech.support.qualityManager){var g=this.player.techGet("getVideoLevels");if(void 0==g||0==g.length)this.player.addOnce("loadedmetadata",this.$f(this.fillCogwheel));
else for(v=new BPLR.CogwheelRendition(F.player,{name:"Rendition"},{rendition:"auto"}),F.addChild(v),p=[],a.each(g,function(G){G=new BPLR.CogwheelRendition(F.player,{name:"Rendition"},{rendition:("hls"==F.player.techName?G.height:G)+"p"});p.push(G)}),v=p.length-1;0<=v;v--)F.addChild(p[v])}else{var p=[],oa={};a.each(a.Renditions.getRenditions(),function(G){F.player.currentSource.source[G]&&(oa[G]=F.player.currentSource.source[G])});for(g in oa)"mp3"!=g&&"ogg"!=g&&(v=new BPLR.CogwheelRendition(this.player,
{name:"Rendition"},{rendition:g}),p.push(v));for(v=p.length-1;0<=v;v--)this.addChild(p[v]);oa=null}this.previousRenditions=p||[];g=this.close=new BPLR.Close(this.player,{name:"Close"});qb(g,{top:"1em",right:"1em"});g.addClass("bp-pos-abs");g.add("close",this.$f(function(){this.onOpenCogWheelScreen()}));this.addChild(g)},onBeforeRenditionChange:function(){for(var F=0;F<this.children.length;F++)this.children[F].removeClass("fontBold")}});BPLR.Cogwheel=Q.extend({cogwheel:"22 22'><path fill='#FFFFFF' d='M20,13.3l-2.1-1.6c0-0.3,0-0.5,0-0.8s0-0.5,0-0.8L20,8.7c0.2-0.2,0.3-0.5,0.1-0.7l-1.9-3.3c-0.1-0.3-0.4-0.4-0.7-0.3l-2.4,1c-0.4-0.3-0.9-0.6-1.3-0.8L13.5,2c0-0.3-0.3-0.5-0.6-0.5H9.1C8.8,1.6,8.6,1.8,8.5,2L8.2,4.6C7.7,4.8,7.3,5.1,6.9,5.4l-2.4-1c-0.2-0.1-0.5,0-0.7,0.3L1.9,7.9C1.7,8.2,1.8,8.5,2,8.7l2.1,1.6c0,0.3,0,0.5,0,0.8s0,0.5,0,0.8L2,13.3c-0.2,0.2-0.3,0.5-0.1,0.7l1.9,3.3c0.1,0.3,0.4,0.4,0.7,0.3l2.4-1c0.4,0.3,0.9,0.6,1.3,0.8L8.5,20c0,0.3,0.3,0.5,0.6,0.5h3.8c0.3,0,0.5-0.2,0.6-0.5l0.3-2.6c0.5-0.2,0.9-0.5,1.3-0.8l2.4,1c0.2,0.1,0.5,0,0.7-0.3l1.9-3.3C20.3,13.8,20.2,13.5,20,13.3zM11,13.7c-1.5,0-2.7-1.2-2.7-2.7S9.5,8.3,11,8.3c1.5,0,2.7,1.2,2.7,2.7S12.5,13.7,11,13.7z'/>",
cogwheel_hd:"22 22'><g><rect x='7.1' y='1.6' fill='#EE3748' width='13.1' height='8.6'/><path fill='#FFFFFF' d='M19.9,13.3l-2.1-1.6c0-0.2,0-0.5,0-0.8c0-0.3,0-0.5,0-0.7h-4.3c0.1,0.2,0.1,0.5,0.1,0.7c0,1.5-1.2,2.7-2.7,2.7c-1.5,0-2.7-1.2-2.7-2.7c0-0.3,0-0.5,0.1-0.7H7.1v-5C7,5.3,6.9,5.4,6.8,5.4l-2.4-1c-0.2-0.1-0.5,0-0.7,0.3L1.9,8C1.7,8.2,1.8,8.5,2,8.7l2.1,1.6c0,0.2,0,0.5,0,0.8c0,0.3,0,0.5,0,0.8L2,13.3c-0.2,0.2-0.3,0.5-0.1,0.7l1.9,3.3c0.1,0.3,0.4,0.4,0.7,0.3l2.4-1c0.4,0.3,0.8,0.6,1.3,0.8l0.3,2.6c0,0.3,0.3,0.5,0.6,0.5h3.8c0.3,0,0.5-0.2,0.6-0.5l0.3-2.6c0.5-0.2,0.9-0.5,1.3-0.8l2.4,1c0.2,0.1,0.5,0,0.7-0.3L20,14C20.1,13.8,20.1,13.5,19.9,13.3z'/><g><path fill='#FFFFFF' d='M13,3.4v5.2h-1.4v-2H10v2H8.6V3.4H10v1.9h1.6V3.4H13z'/><path fill='#FFFFFF' d='M18.8,5.9c0,1.5-1.1,2.6-2.7,2.6H14V3.4h2.1C17.6,3.4,18.8,4.4,18.8,5.9z M17.3,5.9c0-0.8-0.5-1.3-1.3-1.3h-0.6v2.6H16C16.8,7.2,17.3,6.7,17.3,5.9z'/></g></g>",
default:{title:"Toggle Video Quality"},init:function p(v,g){g.name="Cogwheel";0!=v.config.cogwheel&&(v.config.translate&&v.config.translate.toggle_hd&&(this.default.title=v.config.translate.toggle_hd),p.base.call(this,v,g),Aa()&&(this.skin={on:a.generateSVG(this.cogwheel_hd,v.id),off:a.generateSVG(this.cogwheel,v.id)}),this.animParams={scale:1,op:1},this.state=0,this.hide(),v.add(["start","canplay","enableInteraction"],this.$f(this.onStart)),v.add(["canplay","qualityChange"],this.$f(this.onQualityChange)),
v.add("disableInteraction",this.$f(this.hide)))},createElement:function g(){var p=Aa()?a.generateSVG(this.cogwheel,this.player.id):"";return g.base.call(this,"div",{className:"bplr-hd-control bplr-control bplr-button",innerHTML:p})},onClick:function(){this.player.trigger("openCogWheelScreen");this.player.trigger("userInteractionLow")},onQualityChange:function(){var g=this.player.isHD(),p=g?this.skin.on:this.skin.off,oa=g?"addClass":"removeClass";g=g?1:0;this.state!=g&&(this.state=g,this[oa]("bplr-active"),
this.el.innerHTML=p,a.transitionHelper(this.el,"bplr-control-fadedout",this.$f(function(){a.removeClass(this.el,"bplr-control-fadedout");this[oa]("bplr-active");this.el.innerHTML=p}),100))},onStart:function(){var g=this.player,p=0;if(g.currentSource&&!g.currentSource.error&&g.currentSource.source&&g.currentSource.source.streaming&&BPLR.isIPhone)return!1;if(g.currentSource&&!g.currentSource.error&&g.currentSource.source){for(var oa in g.currentSource.source)"streaming"!=oa&&p++;"dash"==g.techName&&
g.tech.availableLevels&&1<g.tech.availableLevels.length&&(p=g.tech.availableLevels.length);!(g.currentSource.source.streaming||g.HDAvailable()||1<p)||g.getAdInProgress()||g.waitingForAd?this.hide():this.show()}},setPrimaryColor:function(g){this.primaryColor=g;if(this.player.config.Skin.id&&1==this.player.config.Skin.id&&1==this.state){var p=this.el.getElementsByTagName("path")[0];p&&p.setAttribute("fill",g)}}});BPLR.Brand=Q.extend({svg:"16.9 16.5'><path fill='#ff0000' d='M13.5,0H3.3C1.5,0,0,1.5,0,3.3v9.9c0,1.8,1.5,3.3,3.3,3.3h10.3c1.8,0,3.3-1.5,3.3-3.3V3.3 C16.8,1.5,15.3,0,13.5,0z'/><path class='brand-bg' fill='#999' d='M13.5,0H3.3C1.5,0,0,1.5,0,3.3v9.9c0,1.8,1.5,3.3,3.3,3.3h10.3c1.8,0,3.3-1.5,3.3-3.3V3.3 C16.8,1.5,15.3,0,13.5,0z'/><g><path fill='#FFF' d='M2.2,6.3c0.2,0,0.4-0.1,1-0.2C3.8,5.9,4,5.9,4.6,5.8c-0.1,0.4-0.1,1-0.1,1.6C4.4,8.2,4.4,9,4.4,9.1 c0,0.2,0,1,0,1.2c0,0.7,0,1,0.1,1.3c0.1,0.2,0.2,0.3,0.2,0.5c0.1,0.2,0.3,0.2,0.5,0.2c0.2-0.1,0.4-0.3,0.4-0.5v-0.1 c0-0.1,0-0.1,0-0.2c0-0.1,0-0.1,0-0.2c0-0.3,0-0.6,0-0.8c0,0,0-0.3,0-0.6c0-0.2,0-0.5,0-1c0-0.2,0-0.4,0-1.1c0-0.5,0-1.3,0.1-1.9 c0,0,0,0,0.1,0c0.1,0,0.4-0.1,0.8-0.1c0.5-0.1,1.3-0.1,1.6-0.2c0.1,0,0.3-0.1,0.3-0.1V5.3c0,0,0-0.1,0-0.3c0-0.1,0-0.1,0-0.1V4.8 c0.1,0,0-0.1,0-0.1c-0.1,0-0.1-0.1-0.1-0.1L8.3,4.5c-0.1,0,0,0-0.1,0c-0.1,0-0.2,0-0.2,0s0,0-0.1,0C7.6,4.6,6.3,4.8,5.5,4.9 C4.5,5.1,3,5.4,2.1,5.6c-0.2,0-0.2,0.2-0.2,0c0,0.1,0,0.2,0,0.2c0,0.1,0,0.1,0,0.2c0,0,0,0.1,0.1,0.2C2,6.2,2.1,6.3,2.2,6.3z'/><path fill='#FFF' d='M9.9,10.8c0.2,0.5,0.7,1.3,1.2,1.3c0.6,0,0.8-0.9,1.1-1.6C12.6,9.6,12.8,9,13,8.4c0.2-0.6,1-2.6,1.1-2.8 c0.1,0,0.2-0.3,0.3-0.3c0.1-0.1,0.2-0.3,0-0.4c0-0.1-0.1-0.3-0.2-0.4c-0.1-0.1-0.3-0.2-0.4-0.2c-0.1,0-0.3,0.1-0.5,0.2 C13.1,4.6,13,4.7,13,4.8c0,0.1-0.1,0.3-0.1,0.4c0,0-0.1,0.6-0.3,1.2C12.4,7,12.2,7.5,12,8c-0.2,0.4-0.5,1.3-0.8,1.9 c-0.2,0.4-0.3,0.6-0.4,0.6c-0.1,0-0.3-0.7-0.4-1.3c-0.1-0.7-0.3-1.5-0.3-2c0-0.4-0.1-1.4-0.1-1.7S9.8,5,9.7,4.9 c-0.1,0-0.3-0.1-0.4-0.1c-0.2,0-0.4,0.4-0.4,0.7c0,0.2,0,0.3,0,0.4c0,0,0,0.1,0,0.2C9,6.7,9.2,7.8,9.3,8.6 C9.5,9.4,9.7,10.3,9.9,10.8z'/></g>",
default:{title:"brid.tv",link:"https://www.brid.tv"},init:function G(p,oa){if(p.config.Partner.brand||p.config.Partner.brand_player_logo)p.config.Partner.brand_player_logo&&(this.default.title=p.config.Partner.domain_short,this.default.link=p.config.Partner.brand_player_url),G.base.call(this,p,oa),this.el.innerHTML=p.config.Partner.brand_player_logo?'<img src="'+p.config.Partner.brand_player_logo+'"/>':a.generateSVG(this.player.config.Skin.Brand||this.svg,this.player.id),this.onMouseOut(),p.config.primaryColor&&
this.setPrimaryColor(p.config.primaryColor),this.default.link||this.el.style.setProperty("cursor","initial","important")},appendClassName:function oa(){return"bplr-brand bplr-control "+oa.base.call(this)},onClick:function(){this.default.link&&da.open(this.default.link,"_blank");this.player.trigger("userInteractionLow")},setPrimaryColor:function(oa){if(this.player.config.Skin.id&&1==this.player.config.Skin.id&&!this.player.config.Partner.brand_player_logo){var G=this.el.getElementsByTagName("path")[0];
G&&G.setAttribute("fill",oa)}}});BPLR.FullscreenToggle=Q.extend({svg:"18.5 12.2'><g fill='#000' transform='scale(1.06) translate(0 0.1)' opacity='0.3'><path d='M0,0h18.5v12.2H0V0z M17.1,1.4H1.4v9.3h15.6V1.4z'/><rect x='9.2' y='3.7' width='5.4' height='3.5'/></g><g><path fill='#FFFFFF' d='M0,0h18.5v12.2H0V0z M17.1,1.4H1.4v9.3h15.6V1.4z'/><rect x='9.2' y='3.7' fill='#FFFFFF' width='5.4' height='3.5'/></g>",svg_off:"18.483 12.199'><g fill='#000' transform='scale(1.06) translate(0 0.1)' opacity='0.3'><path d='M18.4,12.1H0V0h18.4V12.1z M1.4,10.7h15.6V1.4H1.4V10.7z'/><rect x='3.8' y='4.9' width='5.4' height='3.5'/></g><g><path fill='#FFFFFF' d='M18.4,12.1H0V0h18.4V12.1z M1.4,10.7h15.6V1.4H1.4V10.7z'/><rect x='3.8' y='4.9' fill='#FFFFFF' width='5.4' height='3.5'/></g>",
default:{title:"Toggle Fullscreen"},init:function Ia(G,rb){0!=G.config.fullscreen&&(G.config.translate&&G.config.translate.toggle_fullscreen&&(this.default.title=G.config.translate.toggle_fullscreen),Ia.base.call(this,G,rb),this.el.innerHTML=a.generateSVG(this.player.config.Skin.FullscreenToggle||this.svg,this.player.id),a.isFacebookApp()&&!za.fullscreenEnabled&&this.hide(),this.state=0,G.add("fullscreenchange",this.$f(this.onFullScreenChange)),G.add(["adStart","adEnd"],this.$f(this.toggleFullscreenIcon)))},
toggleFullscreenIcon:function(){this.player.getAdInProgress()&&BPLR.isIPhone&&"GoogleIMA"==this.player.adsManager.currentAdsManager.name?this.hide():this.show()},appendClassName:function rb(){return"bplr-fullscreen-control bplr-control "+rb.base.call(this)},onClick:function(){this.player.toggleFullScreen(!this.player.isFullScreen);this.player.trigger("userInteractionLow")},onFullScreenChange:function(){var rb=this.player,Ia=rb.isFullScreen?this.player.config.Skin.FullscreenOff||this.svg_off:this.player.config.Skin.FullscreenToggle||
this.svg,ab=rb.isFullScreen?1:0;Aa()&&this.state!=ab&&(this.state=ab,this.el.innerHTML=a.generateSVG(Ia,rb.id))}});BPLR.Airplay=Q.extend({svg:"18 18'><g fill='#ffffff' transform='translate(-288.0, -94.2)'><path d='M288,98 L304,98 L304,108 L300.5,108 L299,106 L302,106 L302,100 L290,100 L290,106 L293,106 L291.5,108 L288,108 Z M296,104 L300,110 L292,110 Z M296,104'/></g>",default:{title:"Airplay"},init:function Ra(Ia,ab){0!=Ia.config.airplay&&da.WebKitPlaybackTargetAvailabilityEvent&&(Ia.config.translate&&
Ia.config.translate.airplay&&(this.default.title=Ia.config.translate.airplay),Ra.base.call(this,Ia,ab),this.el.innerHTML=a.generateSVG(Ia.config.Skin.Airplay||this.svg),Ia.addOnce("ready",this.$f(this.onReady)),this.hide())},appendClassName:function ab(){return"bplr-airplay-control bplr-control "+ab.base.call(this)},onReady:function(){var ab=this.player.tech.el;ab.setAttribute("x-webkit-airplay","allow");ab.addEventListener("webkitplaybacktargetavailabilitychanged",function(Ra){"available"==Ra.availability?
this.show():this.hide()}.bind(this));this.show()},onClick:function(){this.player.tech.el.webkitShowPlaybackTargetPicker()}});BPLR.TheaterModeToggle=Q.extend({svg:"648.72 750' xmlns='http://www.w3.org/2000/svg'><path fill='#FFFFFF' d='M46.813,245.911h555.096v323.195H46.813V245.911z M93.126,292.224v227.259h459.16V292.224'/>",svg_off:"648.72 750' xmlns='http://www.w3.org/2000/svg'><path fill='#FFFFFF' d='M171.402,286.225h324.72v247.273h-324.72V286.225z M217.716,332.539v151.337H446.5V332.539'/>",default:{title:"Toggle Theater Mode"},
init:function va(Ra,kb){Ra.config.theaterMode&&!a.isFacebookApp()&&(Ra.config.translate&&Ra.config.translate.toggle_theater&&(this.default.title=Ra.config.translate.toggle_theater),va.base.call(this,Ra,kb),this.el.innerHTML=a.generateSVG(this.player.config.Skin.TheaterModeToggle||this.svg,this.player.id),a.hasClass(ib.body,this.player.config.theaterModeClass||"bplr-theater-mode")&&(this.player.isTheaterMode=!0,this.onTheaterModeChange()),Ra.add("theaterModeChange",this.$f(this.onTheaterModeChange)))},
appendClassName:function kb(){return"bplr-theater-mode-control bplr-control "+kb.base.call(this)},onClick:function(){this.player.toggleTheaterMode(!this.player.isTheaterMode);this.player.trigger("userInteractionLow")},onTheaterModeChange:function(){if(Aa()){var kb=this.player;this.el.innerHTML=a.generateSVG(kb.isTheaterMode?kb.config.Skin.TheaterModeOff||this.svg_off:kb.config.Skin.TheaterModeToggle||this.svg,kb.id)}}});BPLR.LikeButton=Q.extend({svg:"48 48'><g><path d='M15 4.5C21 4.5 24 8.5 24 8.5C24 8.5 27 4.5 33 4.5C40 4.5 45 9.99998 45 17C45 25 38.4622 32.1314 32.5 37.5C28.8191 40.8144 26 43 24 43C22 43 19.101 40.7978 15.5 37.5C9.63898 32.1325 3 25 3 17C3 9.99998 8 4.5 15 4.5Z' fill='none' stroke='white' stroke-width='4'></path></g>",
default:{title:"Like"},init:function lb(va,X){va.config.like_button&&(va.config.translate&&va.config.translate.like&&(this.default.title=va.config.translate.like),lb.base.call(this,va,X),this.el.innerHTML=a.generateSVG(va.config.Skin.Like||this.svg),this.counter=BPLR.Util.createElement("div",{className:"bplr-like-counter"}),this.el.appendChild(this.counter),this.everLiked=a.getLocalStorage("BPLR_everliked")||[],this.savedLikes=a.getLocalStorage("BPLR_likedvideos")||[],va.add("newContent",this.$f(this.onNewContent)),
va.add("show",this.$f(this.fadeIn)),va.add("hide",this.$f(this.fadeOut)),va.config.branding&&1==va.config.branding.pos&&this.addClass("bplr-like-left"),this.hide())},appendClassName:function X(){return"bplr-like-control "+X.base.call(this)},onNewContent:function(){this.player.currentSource.id?this.show():this.hide();this.userLiked=this.savedLikes&&this.savedLikes.includes(this.player.currentSource.id);this.likes=this.player.currentSource.likes||(this.userLiked?1:0);this.updateNumberOfLikes();this.updateColor(!1)},
onClick:function(){var X=this.player.currentSource.id;this.userLiked=!this.userLiked;this.updateColor(!0);this.userLiked?(this.savedLikes.push(X),this.everLiked.includes(X)||(this.everLiked.push(X),this.player.trigger("liked"),a.setLocalStorage("BPLR_everliked",this.everLiked,31536E6,this.player.config)),this.likes++):(this.savedLikes=this.savedLikes.filter(function(lb){return lb!=X}),0<this.likes&&this.likes--);this.updateNumberOfLikes();a.setLocalStorage("BPLR_likedvideos",this.savedLikes,31536E6,
this.player.config)},updateColor:function(X){this.userLiked?this.addClass(X?"bplr-liked":"bplr-liked-noanim"):(this.removeClass("bplr-liked"),this.removeClass("bplr-liked-noanim"))},updateNumberOfLikes:function(){var X=this.player.currentSource.likes=this.likes;1E5<=X?X=Math.round(this.likes/1E3)+"K":1E3<=X&&(X=Math.round(this.likes/100)/10+"K");this.counter.innerHTML=X;this.counter.style.visibility=X?"":"hidden"}});BPLR.LoadAdIndicator=l.extend({init:function Bb(lb,Mb){Bb.base.call(this,lb,Mb);lb.add("requestAd",
this.$f(this.show));lb.add(["adError","adEnd"],this.$f(this.hide));lb.add("adImpression",this.$f(this.hide))},createElement:function Mb(){return Mb.base.call(this,"div",{className:"bplr-loadad-indicator",innerHTML:'<div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div>'})}});BPLR.Slider=l.extend({init:function I(Bb,h){I.base.call(this,Bb,h);Bb.add(this.updateEvent,this.$f(this.update));Bb.add("enableInteraction",this.$f(this.onEnableInteraction));this.toggleInteraction(!0);
this.update()},enabled:!1,down:!1,startUpdating:function(){this.player.add(this.updateEvent,this.$f(this.update))},stopUpdating:function(){this.player.remove(this.updateEvent,this.$f(this.update))},createElement:function n(h,I){I=a.merge({role:"slider","aria-label":this.config.title,"aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},I);return n.base.call(this,h,I)},toggleInteraction:function(h){this.enabled!=h&&(h=(this.enabled=h)?"add":"remove",this[h]("touchstart",this.$f(this.onTouchStart)),
this[h]("mousedown",this.$f(this.onMouseDown)))},onDisableInteraction:function(){this.toggleInteraction(!1)},onEnableInteraction:function(){this.toggleInteraction(!0)},toggleUpDown:function(h,I){h?a.blockTextSelection():a.unblockTextSelection();var n=h?"add":"remove";this.down=h;za.addEventListener?(Oa[n](ib,"mousemove",tb(this,this.onMouseMove)),Oa[n](ib,"mouseup",tb(this,this.onMouseUp))):(Oa[n](this.bar.el,"mousemove",tb(this,this.onMouseMove)),Oa[n](this.bar.el,["mouseup","losecapture"],tb(this,
this.onMouseUp)),this.bar.el.setCapture());a.stopEvent(I)},onMouseDown:function(h){this.down||(this.toggleUpDown(!0,h),this.onMouseMove(h))},onMouseUp:function(h){this.toggleUpDown(!1,h)},toggleTouch:function(h,I){h?a.blockTextSelection():a.unblockTextSelection();var n=h?"add":"remove";this.down=h;Oa[n](ib,"touchend",tb(this,this.onTouchEnd));Oa[n](ib,"touchmove",tb(this,this.onTouchMove));a.stopEvent(I)},onTouchStart:function(h){a.blockTextSelection();this.down||(this.toggleTouch(!0,h),this.onTouchMove(h))},
onTouchEnd:function(h){this.toggleTouch(!1,h)},update:function(){var h=this.getPercent(),I=this.scrubber,n=this.bar,pa=this.player.getAdInProgress()?0:this.player.bufferedStart();isNaN(h)&&(h=0);I&&qb(I,{left:a.round(100*h,2)+"%"});this.el.setAttribute("aria-valuenow",parseInt(this.player.currentTime()));this.el.setAttribute("aria-valuemax",parseInt(this.player.duration()));this.el.setAttribute("aria-valuetext",this.formatTimeToText(this.player.currentTime())+" Seconds of "+this.formatTimeToText(this.player.duration())+
" Seconds");qb(n,{width:a.round(100*(h-pa),2)+"%",left:a.round(100*pa,2)+"%"})},scrollTo:function(h){var I=this.el,n=BPLR.findPosX(I);return Math.max(0,Math.min(1,((h.pageX?h.pageX:h.clientX)-n)/I.offsetWidth))},formatTimeToText:function(h){return 60>=h?parseInt(h):parseInt(h/60)+" Minutes "+parseInt(h%60)}});BPLR.ProgressControl=l.extend({default:{children:{seekBar:{}}},init:function pa(I,n){pa.base.call(this,I,n);(!BPLR.isIPhone||a.autoplaySupported||I.config.webView)&&I.config.controls||this.hide();
this.addClass("bplr-disabled");a.hasTouch()&&(this.add(["touchstart","touchmove"],this.$f(this.onMouseOver)),this.add("touchend",this.$f(this.onMouseOut)));BPLR.isMobilePlatform||(this.add(["mousemove","mouseover"],this.$f(this.onMouseOver)),this.add("mouseout",this.$f(this.onMouseOut)));this.player.add("videoLoadingStart",this.$f(function(){this.hide()}));this.player.add("videoLoadingEnd",this.$f(function(){this.show()}));I.addOnce("ready",this.$f(this.onPlayerReady))},createElement:function n(){return n.base.call(this,
"div",{className:"bplr-progress-control"})},enabled:!0,listeners:!1,onPlayerReady:function(){var n=this.player;n.add("enableInteraction",this.$f(this.onEnableControls));n.add("disableInteraction",this.$f(this.onDisableControls));this.enabled&&n.add(["beforeStart","start"],this.$f(this.onNewContent))},onNewContent:function(){this.toggleListeners(!1);this.onEnableControls()},toggleListeners:function(n){this.listeners!=n&&(this.listeners=n)},onMouseOver:function(n){var pa=this.player;pa.lockShow();n=
a.getCurrentTimePosition(pa,this.scrollTo(n));var bb=pa.duration();pa.trigger("progressOver",{time:n,duration:bb},!1)},onMouseOut:function(){this.player.unlockShow();this.player.trigger("progressOut")},onDisableControls:function(n){if("play"!=n.type||this.player.getAdInProgress())this.enabled=!1,this.toggleListeners(!1),this.fadeOut()},onEnableControls:function(){this.player.getAdInProgress()||(this.enabled=!0,this.fadeIn(),this.toggleListeners(!0))},scrollTo:function(n){var pa=this.el,bb=BPLR.findPosX(pa);
return Math.max(0,Math.min(1,((void 0!=n.pageX?n.pageX:n.touches[0].clientX)-bb)/pa.offsetWidth))},resetSkin:function pa(){this.fsDispatched=!0;if(this.player.isPlaying)this.onEnableControls();pa.base.call(this)}});BPLR.SeekBar=BPLR.Slider.extend({default:{children:{chapters:{childClass:"ChaptersBar"},buffer:{childClass:"BufferBar"},bar:{childClass:"ProgressBar"},scrubber:{childClass:"Scrubber"}}},updateEvent:"timeupdate",init:function Nb(bb,vb){vb.title="Seek slider";Nb.base.call(this,bb,vb);bb.addOnce("ready",
this.$f(this.onReady));bb.add("startTrackingTime",this.$f(this.startUpdating));bb.add("stopTrackingTime",this.$f(this.stopUpdating));bb.add(["newContent","ended","adStart","adEnd"],this.$f(this.update))},onReady:function(){this.el.removeAttribute("style")},createElement:function vb(){return vb.base.call(this,"div",{className:"bplr-progress-holder"})},getPercent:function(vb){return a.getCurrentTimePercent(this.player,vb)},onMouseDown:function Ob(Nb){Ob.base.call(this,Nb);this.player.scrubbing=!0;a.addClass(this.player.el,
"bplr-scrubbing")},onTouchStart:function Pb(Ob){Pb.base.call(this,Ob);this.player.scrubbing=!0;a.addClass(this.player.el,"bplr-scrubbing")},onMouseUp:function wa(Pb){wa.base.call(this,Pb);this.player.scrubbing=!1;a.removeClass(this.player.el,"bplr-scrubbing")},onTouchEnd:function ja(wa){ja.base.call(this,wa);this.player.scrubbing=!1;a.removeClass(this.player.el,"bplr-scrubbing")},onMouseMove:function(wa){var ja=this.player,Ja=a.getCurrentTimePosition(ja,this.scrollTo(wa)),Ka=this.player.ended();Ja==
ja.duration()&&(Ja-=.5);ja.currentTime(Ja);a.stopEvent(wa);ja.trigger("userInteractionLow");Ka&&this.player.trigger("pause")},onTouchMove:function(wa){var ja=this.player,Ja=a.getCurrentTimePosition(ja,this.scrollTo(wa.touches[0])),Ka=this.player.ended();Ja==ja.duration()&&(Ja-=.5);ja.currentTime(Ja);a.stopEvent(wa);ja.trigger("userInteractionLow");Ka&&this.player.trigger("pause")},stepForward:function(){this.player.currentTime(this.player.currentTime()+10)},stepBack:function(wa){var ja=this.player.ended();
this.player.currentTime(this.player.currentTime()-(wa||10));ja&&this.player.trigger("pause")},stepTo:function(wa){this.player.values.isLive?BPLR.log("You can not seek while live"):this.player.currentTime(this.player.duration()*wa)},resetSkin:function ja(){this.onReady();ja.base.call(this)}});BPLR.BufferBar=l.extend({init:function sb(Ja,Ka){sb.base.call(this,Ja,Ka);Ja.add("progress start beforeStart newContent canplaythrough enableInteraction play".split(" "),this.$f(this.update));Ja.add("adStart",
this.$f(this.onAdStarted));this.update()},createElement:function Ka(){return Ka.base.call(this,"div",{className:"bplr-load-progress"})},onAdStarted:function(){this.player.getAdInProgress()&&this.css({width:0,left:0})},update:function(){var Ka=this.player;if(this.el){var sb=a.round(100*(Ka.bufferedPercent()-Ka.bufferedStart()),2);100<sb&&(sb=100);this.css({width:sb+"%",left:a.round(100*Ka.bufferedStart(),2)+"%"})}}});BPLR.ProgressBar=l.extend({init:function wb(sb,xb){wb.base.call(this,sb,xb);this.resetSkin()},
createElement:function xb(){var wb="",Sa=this.player;Aa()&&"undefined"!=typeof Sa.config.Skin.ProgressBar&&(wb=a.generateSVG(Sa.config.Skin.ProgressBar,Sa.id));return xb.base.call(this,"div",{className:"bplr-play-progress",innerHTML:wb})},setPrimaryColor:function(xb){this.player.config.Skin.id&&1==this.player.config.Skin.id?(BPLR.log("ProgressBar setPrimaryColor",xb),this.el.style.background=xb):this.el.style.background=""},resetSkin:function(){this.player.config.primaryColor&&this.setPrimaryColor(this.player.config.primaryColor)}});
BPLR.Scrubber=l.extend({init:function Cb(wb,Sa){Cb.base.call(this,wb,Sa);this.resetSkin()},createElement:function Sa(){return Sa.base.call(this,"div",{className:"bplr-seek-scrubber"})},setPrimaryColor:function(Sa){this.player.config.Skin.id&&1==this.player.config.Skin.id?(BPLR.log("Scrubber setPrimaryColor",Sa),this.el.style.background=Sa):this.el.style.background=""},resetSkin:function(){this.player.config.primaryColor&&this.setPrimaryColor(this.player.config.primaryColor)}});BPLR.ChaptersBar=l.extend({chapters:[],
currentChapter:null,init:function ea(Cb,fa){ea.base.call(this,Cb,fa);Cb.add("progress start beforeStart newContent canplaythrough enableInteraction play timeupdate".split(" "),this.$f(this.update));Cb.add("newContent",this.$f(this.onNewContent))},createElement:function fa(){return fa.base.call(this,"div",{className:"bplr-chapters-progress"})},update:function(){var fa=this.player,ea=fa.currentSource.chapters,qa=fa.duration();if(!fa.getAdInProgress())if(ea&&1<ea.length&&0<qa){this.initializedForWidth!=
qa&&(BPLR.log("Initializing chapters, duration",qa),this.initializedForWidth=qa,this.el.innerHTML="",this.chapters=[],ea.forEach(function(e,r){r=parseFloat(ea[r+1]?ea[r+1].t:qa+1);var Y=(r-e.t)/qa*100,k=u("div",{className:"bplr-chapter-play-progress"}),d=u("div",{className:"bplr-chapter-load-progress"}),b=u("div",{className:"bplr-chapter"});b.appendChild(d);b.appendChild(k);b.style.width="calc("+Y+"% - 2px)";b.lp=d;b.pp=k;b.name=e.n;b.start=parseInt(e.t);b.end=r;this.el.appendChild(b);this.chapters.push(b)}.bind(this)),
fa.config.primaryColor&&this.setPrimaryColor(fa.config.primaryColor),this.show());var Ta=fa.bufferedPercent()*qa;fa.bufferedStart();var C=fa.currentTime();this.chapters.forEach(function(e,r){var Y="0px",k="0px";C>e.end?Y="100%":C>e.start&&(Y=(C-e.start)/(e.end-e.start)*100+"%",this.currentChapter!==r&&(this.currentChapter=r,fa.trigger("chapterChange",{index:r,name:e.name,start:e.start,end:e.end}),fa.addClass("bplr-chapters")));Ta>e.end?k="100%":Ta>e.start&&(k=(Ta-e.start)/(e.end-e.start)*100+"%");
e.pp.style.width=Y;e.lp.style.width=k}.bind(this))}else this.hide()},onNewContent:function(){this.player.removeClass("bplr-chapters");this.el.innerHTML="";this.currentChapter=this.initializedForWidth=null;this.chapters=[]},setPrimaryColor:function(fa){this.chapters.forEach(function(ea){ea.pp.style.background=fa})}});BPLR.ChapterInfo=l.extend({init:function Ta(ea,qa){ea.config.Skin&&ea.config.Skin.id&&1!=ea.config.Skin.id||(Ta.base.call(this,ea,qa),this.hide(),ea.add("chapterChange",this.$f(this.onChapterChange)),
ea.add("newContent",this.$f(this.onNewContent)))},createElement:function qa(){return qa.base.call(this,"div",{className:"bplr-chapter-info"})},onNewContent:function(){this.hide()},onChapterChange:function(qa){this.el.innerHTML="&bull; "+qa.data.name;this.el.title=qa.data.name;this.show()}});BPLR.StoryBoard=l.extend({hasCuepoints:!1,init:function e(Ta,C){e.base.call(this,Ta,C);Ta.add("newContent",this.$f(this.onNewContent));Ta.add("progressOver",this.$f(this.onProgressOver));Ta.add("progressOut",this.$f(this.hide))},
createElement:function C(){var e=C.base.call(this,"div",{className:"bplr-storyBoard",tabIndex:-1});this.sbDiv=BPLR.Util.createElement("div",{className:"bplr-sb"});this.arDiv=BPLR.Util.createElement("div",{className:"bplr-sb-arrow"});this.ctDiv=BPLR.Util.createElement("div",{className:"bplr-sb-title"});this.tmDiv=BPLR.Util.createElement("div",{className:"bplr-sb-time"});e.appendChild(this.sbDiv);e.appendChild(this.arDiv);e.appendChild(this.ctDiv);e.appendChild(this.tmDiv);return e},onNewContent:function(){var C=
this.player,e=C.currentSource.tracks;this.url=this.src="";this.ctDiv.innerHTML="";this.hasCuepoints=!1;this.hide();if(e){for(var r=0,Y=e.length;r<Y;r++)if("storyboard"==e[r].kind){this.src=e[r].src;break}BPLR.log("StoryBoard onNewContent ",this.src);this.src&&(this.cuePoints=new BPLR.CuePoints(C,{trackID:C.currentSource.id,sourceFile:this.src}),BPLR.Loader.loadText(this.src,BPLR.Util.$f(this,this.storyboardLoaded),BPLR.Util.$f(this,this.onError)))}},storyboardLoaded:function(C){this.hasCuepoints=
!0;this.cuePoints.parseCues(C)},onError:function(C){BPLR.log("--- BPLR Player --- StoryBoard URL not valid or Network Error. Status: "+C)},getChapterName:function(C){if(this.player.progressControl.seekBar&&this.player.progressControl.seekBar.chapters)for(var e=this.player.progressControl.seekBar.chapters.chapters,r=0;r<e.length;r++)if(C>=e[r].start&&C<e[r].end)return e[r].name;return""},onProgressOver:function(C){if(this.player.isPlaying)if(this.hasCuepoints){this.imgRoot=this.src.substring(0,this.src.lastIndexOf("/"));
for(var e=this.cuePoints,r=e.cues.length,Y=C.data.time,k=0;k<r;k++){var d=e.cues[k].endTime;if(Y>=e.cues[k].startTime&&Y<d){this.show(e.cues[k],Y);break}}this.player.daiAdManagerCall("getActiveSessionProperty","isActive")&&this.show(null,C.data.time)}else this.show(null,C.data.time)},show:function Y(e,r){var k=this.player;k.duration();var d=parseInt(k.progressControl.el.offsetWidth),b=parseInt(BPLR.Util.css(k.progressControl,"left",!0))||0,c=parseInt(BPLR.Util.css(k.controls,"left",!0))||0,H=b-c;
c=this.getChapterName(r);BPLR.Util.hasClass(k.el,"bplr-small")&&(e=null);7343==k.config.Partner.id&&(e=null);if(e){var M=e.text,R=M.indexOf("#"),t=M.indexOf("=")+1,Ea=M.length,S=M.substring(0,R),N=M.substring(t,Ea).split(",");M=N[0];t=N[1];Ea=N[2];R=N[3];N=parseInt(N[3])+32;var T=Ea/2+2;this.url||(this.url=this.imgRoot+"/"+S);this.loadedURL!=this.url&&(this.loadedURL=this.url,this.sbDiv.style.backgroundImage="url('"+this.url+"')")}this.titleWidth=this.titleWidth||this.ctDiv.clientWidth;S=T?T:this.titleWidth/
2;T=H+a.getCurrentTimePercent(k,r)*d;H=T-S;var U=T-=3;2>H?H=2:H+2*S>k.el.clientWidth-2&&(H=k.el.clientWidth-2*S-2);k=.5*this.tmDiv.clientWidth;U-k<b?U=b+k:U+k>b+d&&(U=b+d-k);k=H;e?this.ctDiv.style.justifyContent="":(k<b?k=b:k+2*S>b+d&&(k=b+d-2*S),this.ctDiv.style.justifyContent=k<b+3?"flex-start":k+2*S>b+d-3?"flex-end":"");this.sbDiv.style.backgroundPosition="-"+M+"px -"+t+"px";this.sbDiv.style.top=-N+"px";this.sbDiv.style.left=H+"px";this.sbDiv.style.width=Ea+"px";this.sbDiv.style.height=R+"px";
this.sbDiv.style.display=e?"":"none";this.arDiv.style.left=T+"px";this.arDiv.style.display=e?"":"none";this.tmDiv.innerHTML=a.formatTime(r);this.tmDiv.style.left=U+"px";this.ctDiv.innerHTML=c;this.ctDiv.style.left=k+"px";this.ctDiv.style.top=(e?-N+11:-13)+"px";this.ctDiv.style.display=1<this.ctDiv.innerHTML.length?"":"none";Y.base.call(this)}});BPLR.VolumeControl=l.extend({default:{children:{volumeBarBg:{},volumeBar:{}}},knobFree:!0,mouseOver:!1,init:function k(r,Y){k.base.call(this,r,Y);(0==r.config.volume||
BPLR.isMobilePlatform)&&this.hide();r.add("knobToggle",this.$f(this.onKnobToggle));r.add("volumeOver",this.$f(this.onVolumeOver));r.add("volumeOut",this.$f(this.onVolumeOut));this.add("mouseover",this.$f(this.onOver));this.add("mouseout",this.$f(this.onOut))},createElement:function Y(){return Y.base.call(this,"div",{className:"bplr-volume-control bplr-volume-hidden"})},onVolumeOver:function(){this.player.config.Skin.volumeFloat?this.removeClass("bplr-volume-hidden"):this.addClass("over")},onVolumeOut:function(){this.player.config.Skin.volumeFloat?
this.knobFree&&!this.mouseOver&&this.addClass("bplr-volume-hidden"):this.removeClass("over")},onOver:function(){this.player.config.Skin.volumeFloat&&(this.mouseOver=!0);this.player.trigger("volumeOver")},onOut:function(){this.player.config.Skin.volumeFloat&&(this.mouseOver=!1);this.player.trigger("volumeOut")},onKnobToggle:function(){this.player.config.Skin.volumeFloat&&(this.knobFree=!this.knobFree,this.onVolumeOut())}});BPLR.VolumeBar=BPLR.Slider.extend({default:{children:{bar:{childClass:"VolumeLevel"},
knob:{}}},updateEvent:"volumechange",init:function b(k,d){d.title="Volume slider";b.base.call(this,k,d);k.add("vast.adVolumeChange",this.$f(this.update));this.add("mousedown",this.$f(this.onMouseDown));k.addOnce("ready",this.$f(this.onPlayerReady))},createElement:function d(){this.el&&(this.el.innerHTML="");var b=this.player.config.Skin;var c=Aa()&&"undefined"!==typeof b[this.config.name]?a.generateSVG(b[this.config.name],this.player.id):"";var H=d.base.call(this,"div",{className:"bplr-volume-bar",
innerHTML:c});if(!b.volumeFloat)for(var M=0;7>M;M++)c="",Aa()&&"undefined"!==typeof b.VolumeLevelOff&&(c=a.generateSVG(b.VolumeLevelOff,this.player.id)),c=u("div",{className:"bar-bracket",innerHTML:c}),Oa.add(c,"mouseover",this.$f(this.onBracketOver)),Oa.add(c,"mouseout",this.$f(this.onBracketOut)),H.appendChild(c);this.el&&(this.el.innerHTML=H.innerHTML);return H},onPlayerReady:function(){var d=u("div",{className:"level-bracket"});this.el.appendChild(d);if(d){var b=a.rgbValues("rgb(255, 255, 255)"),
c=qb(d,"background-color");c&&(c="rgb(0, 0, 0)"!=c&&"rgba(0, 0, 0, 0)"!=c?a.rgbValues(c):!1,b&&c&&(this.endColor=a.rgbToHsl(c.r,c.g,c.b),this.startColor=a.rgbToHsl(b.r,b.g,b.b)))}this.el.removeChild(d);this.player.config.primaryColor&&this.setPrimaryColor(this.player.config.primaryColor);this.update()},setPrimaryColor:function(d){if(this.player.config.Skin.id&&1==this.player.config.Skin.id){var b="rgb(0, 0, 0)"!=d&&"rgba(0, 0, 0, 0)"!=d?a.rgbValues(d):!1;BPLR.log("VolumeBar setPrimaryColor",d,b);
b&&(this.endColor=a.rgbToHsl(b.r,b.g,b.b));this.update()}},resetSkin:function(){this.startColor=this.endColor=null;this.createElement();this.el.style.background="";this.bar=new BPLR.VolumeLevel(this.player);this.knob=new BPLR.Knob(this.player);this.addChild(this.bar);this.addChild(this.knob);setTimeout(this.$f(this.onPlayerReady),100)},onBracketOver:function(d){a.removeClass(d.currentTarget,"out");a.addClass(d.currentTarget,"over")},onBracketOut:function(d){a.removeClass(d.currentTarget,"over");a.addClass(d.currentTarget,
"out")},onMouseMove:function(d){var b=this.player.muted();this.player.muted(!1);var c=this.scrollTo(d);this.player.config.Skin.volumeFloat||(c=.08>c?0:c,c=.92<c?1:c);this.player.config.hover_volume=0;this.player.volume(c);this.player.trigger("userInteractionLow");this.player.config.Skin.volumeFloat&&this.player.trigger("repositionKnob");a.stopEvent(d);b!=this.player.muted()&&this.player.trigger("muteInteraction",{muted:!b})},getPercent:function(){return this.player.volume()},stepForward:function(){this.player.config.hover_volume=
0;this.player.volume(this.player.volume()+.1);this.player.config.Skin.volumeFloat&&this.player.trigger("repositionKnob")},stepBack:function(){this.player.config.hover_volume=0;this.player.volume(this.player.volume()-.1);this.player.config.Skin.volumeFloat&&this.player.trigger("repositionKnob")},update:function(){var d=this.getPercent(),b=this.bar,c=this.player;if(isNaN(d)||c.muted())d=0;if(!this.player.config.Skin.volumeFloat){b.el.innerHTML="";var H=Math.ceil(7*d)}if(this.startColor&&this.endColor){var M=
a.interpolate(this.startColor,this.endColor,.9<d?1:d);M=a.hslToRgb(M[0],M[1],M[2])}this.el.setAttribute("aria-valuenow",parseInt(100*this.player.volume()));this.el.setAttribute("aria-text",parseInt(100*this.player.volume())+"% volume "+(this.player.muted()?"muted":""));if(this.player.config.Skin.volumeFloat)this.player.trigger("repositionKnob"),0==this.state?.4<=d&&(c.trigger("svgchange"),this.state=1):.4>d&&(c.trigger("svgchange"),this.state=0);else for(d=0;d<H;d++){var R="";Aa()&&"undefined"!=typeof c.config.Skin.VolumeLevelOn&&
(R=a.generateSVG(c.config.Skin.VolumeLevelOn,c.id));R=u("div",{className:"level-bracket",innerHTML:R});Oa.add(R,"mouseover",this.$f(this.onBracketOver));Oa.add(R,"mouseout",this.$f(this.onBracketOut));M&&qb(R,{"background-color":M});b.el.appendChild(R)}},scrollTo:function(d){var b=this.player.config.Skin&&this.player.config.Skin.volumeFloat&&!this.player.audioFile,c=this.el,H=b?BPLR.findPosY(c):BPLR.findPosX(c);c=b&&!this.player.config.Skin.volumeFloat?c.offsetHeight:c.offsetWidth;d=b?d.pageY?d.pageY:
d.clientY:d.pageX?d.pageX:d.clientX;return b?1-Math.max(0,Math.min(1,(d-H)/c)):Math.max(0,Math.min(1,(d-H)/c))}});BPLR.Knob=l.extend({updateEvent:"volumechange",capturedButton:null,init:function H(b,c){0!=b.config.volume&&(b.config.translate&&b.config.translate.toggle_mute&&(this.title=b.config.translate.toggle_mute),H.base.call(this,b,c),this.player.add("repositionKnob",this.$f(this.onRepositionKnob)),this.add("mousedown",this.$f(this.onButtonDown)))},createElement:function c(){return c.base.call(this,
"div",{className:"bplr-knob",innerHTML:" "})},onButtonDown:function(c){this.el==c.target&&(this.capturedButton=c.target,this.f=this.onButtonUp.bind(this),da.addEventListener?da.addEventListener("mouseup",this.f,!0):this.capturedButton.setCapture&&(this.f=this.onButtonLoseCapture.bind(this),this.capturedButton.attachEvent("onlosecapture",this.f),this.capturedButton.setCapture()));this.addClass("bplr-selected");this.player.touch.el.focus({preventScroll:!0});this.player.trigger("knobToggle")},onButtonUp:function(){da.removeEventListener?
da.removeEventListener("mouseup",this.f,!0):this.capturedButton.releaseCapture&&(this.capturedButton.detachEvent("onlosecapture",this.f),this.capturedButton.releaseCapture());this.capturedButton=null;this.removeClass("bplr-selected");this.player.trigger("knobToggle")},onButtonLoseCapture:function(){this.onButtonUp()},onRepositionKnob:function(){var c=this.player.muted()?0:this.player.volume();this.el.style.left=88*c-8.5+"px";this.el.parentElement.style.background="linear-gradient(90deg, rgba(255,255,255,0.9) "+
91*c+"%, rgba(0,0,0,0) "+(100*c+1)+"%, rgba(255,255,255,0.5) "+(100*c+2)+"%, rgba(255,255,255,0.5) 100%)"}});BPLR.VolumeBarBg=l.extend({createElement:function H(){return H.base.call(this,"div",{className:"bplr-volume-bar-bg"})}});BPLR.VolumeLevel=l.extend({createElement:function M(){return M.base.call(this,"div",{className:"bplr-volume-level"})}});BPLR.MuteToggle=Q.extend({svg_toggle:"16 16'><g fill='#000' transform='scale(1.03) translate(0 0.2)' opacity='0.3'><polygon points='10,16 10,0 3,5 0.2,5 0.2,11 3,11 '/><path class=toggle-svg d='M11,13.91c2.837-0.477,5-2.938,5-5.91s-2.163-5.433-5-5.91v1.011C13.279,3.566,15,5.585,15,8s-1.721,4.434-4,4.899V13.91z'/><path d='M11,9.722v1.094c1.163-0.413,2-1.512,2-2.816s-0.837-2.403-2-2.816v1.094C11.595,6.625,12,7.263,12,8  C12,8.737,11.595,9.375,11,9.722z'/></g><g fill='#fff'><polygon points='10,16 10,0 3,5 0.2,5 0.2,11 3,11 '/><path class=toggle-svg d='M11,13.91c2.837-0.477,5-2.938,5-5.91s-2.163-5.433-5-5.91v1.011C13.279,3.566,15,5.585,15,8s-1.721,4.434-4,4.899V13.91z'/><path d='M11,9.722v1.094c1.163-0.413,2-1.512,2-2.816s-0.837-2.403-2-2.816v1.094C11.595,6.625,12,7.263,12,8  C12,8.737,11.595,9.375,11,9.722z'/></g>",
svg_muted:"16 16'><g fill='#000' transform='scale(1.03) translate(0 0.2)' opacity='0.3'><polygon points='10,16 10,0 3,5 0.2,5 0.2,11 3,11 '/><polygon points='14.646,5.646 13,7.293 11.354,5.646 10.646,6.354 12.293,8 10.646,9.646 11.354,10.354 13,8.707 14.646,10.354 15.354,9.646 13.707,8 15.354,6.354 '/></g><g fill='#fff'><polygon points='10,16 10,0 3,5 0.2,5 0.2,11 3,11 '/><polygon points='14.646,5.646 13,7.293 11.354,5.646 10.646,6.354 12.293,8 10.646,9.646 11.354,10.354 13,8.707 14.646,10.354 15.354,9.646 13.707,8 15.354,6.354 '/></g>",
default:{title:"Toggle Mute Video (m)"},init:function Ea(R,t){0!=R.config.volume&&(R.config.translate&&R.config.translate.toggle_mute&&(this.default.title=R.config.translate.toggle_mute),Ea.base.call(this,R,t),this.el.innerHTML=a.generateSVG(this.player.config.Skin.MuteToggle||this.svg_toggle,this.player.id),R.add(["volumechange","adStart","enableInteraction"],this.$f(this.onVolumeChange)),this.add("mouseover",this.$f(this.onOver)),this.add("mouseout",this.$f(this.onOut)),this.player.add("svgchange",
this.$f(this.onSvgChange)),this.onVolumeChange())},appendClassName:function t(){return"bplr-mute-control bplr-control "+t.base.call(this)},onClick:function(){var t=this.player;BPLR.isMobilePlatform?(t.muted(t.muted()?!1:!0),t.volume(t.muted()?0:1)):(t.config.hover_volume=0,t.muted(!(t.muted()||0==t.volume())));t.trigger("muteInteraction",{muted:t.muted()});t.trigger("userInteractionLow");!t.muted()&&void 0!=t.adsManager&&void 0!=t.adsManager.currentAdObject&&"1"==t.adsManager.currentAdObject.adType&&
t.config.MidrollOnlyWhenMuted&&t.tag.currentTime>=t.Advertising.ads.midroll.cuepoints[0]-5&&(t.midrollNotMutedCase=!0)},onVolumeChange:function(){var t=this.player,Ea=t.config.Skin,S=0==t.volume()||t.muted()?"off":"on";this.level!=S&&(this.level=S,Aa()&&Ea?this.el.innerHTML=a.generateSVG("on"===S?Ea.MuteToggle||this.svg_toggle:Ea.Muted||this.svg_muted,t.id):(a.each.call(this,["on","off"],function(N){a.removeClass(this.el,"bplr-vol-"+N)}),a.addClass(this.el,"bplr-vol-"+S)))},onSvgChange:function(){a.hasClass(this.el,
"go-toggle-svg")?this.removeClass("go-toggle-svg"):this.addClass("go-toggle-svg")},onOver:function(){this.player.trigger("volumeOver")},onOut:function(){this.player.trigger("volumeOut")},resetSkin:function Ea(){Ea.base.call(this);this.onVolumeChange()}});BPLR.CurrentTimeDisplay=l.extend({init:function T(S,N){T.base.call(this,S,N);S.add(["timeupdate","beforeStart","loadedmetadata","adStart","adEnd"],this.$f(this.updateContent));S.add("newContent",this.$f(this.onNewContent));S.add("streamFragChanged",
this.$f(this.onStreamFragChanged))},createElement:function N(){var T=N.base.call(this,"div",{className:"bplr-current-time bplr-time-controls"});this.content=u("div",{className:"bplr-current-time-display",innerHTML:"00:00"});T.appendChild(u("div").appendChild(this.content));return T},updateContent:function(){var N=this.player,T=N.currentTime()||0;this.content.innerHTML=a.formatTime(T,N.duration())},onNewContent:function(){this.content.innerHTML=a.formatTime(0);this.show()},onStreamFragChanged:function(N){N.data.live?
this.hide():this.show()}});BPLR.DurationDisplay=l.extend({init:function La(T,U){La.base.call(this,T,U);T.add(["timeupdate","beforeStart","loadedmetadata","adStart","adEnd"],this.$f(this.updateContent));T.add("newContent",this.$f(this.onNewContent));T.add("streamFragChanged",this.$f(this.onStreamFragChanged))},createElement:function U(){var La=U.base.call(this,"div",{className:"bplr-duration bplr-time-controls"});this.content=u("div",{className:"bplr-duration-display",innerHTML:"00:00"});La.appendChild(u("div").appendChild(this.content));
return La},updateContent:function(){this.player.duration()&&(this.content.innerHTML=a.formatTime(this.player.duration()));if("hls"!=this.player.techName&&Infinity==this.player.tech.el.duration){this.player.values.initialDuration||(this.player.values.initialDuration=this.player.tech.el.currentTime,this.player.values.initialDurationTaken=Date.now()/1E3,this.player.values.isLive=!0);this.player.values.totalDuration=this.player.values.initialDuration+Date.now()/1E3-this.player.values.initialDurationTaken;
var U=this.player.values.totalDuration-this.player.tech.el.currentTime,La=80>U;if(!this.player.values.behind||10<Math.abs(U-this.player.values.behind))this.player.trigger("streamFragChanged",{live:this.player.values.isLive,liveInSync:La,behind:La?0:U}),this.player.values.behind=U}U=30<this.player.duration()&&!this.player.values.isLive;BPLR.Util[U?"addClass":"removeClass"](this.player.el,"bplr-long")},onNewContent:function(){this.content.innerHTML=a.formatTime(this.player.currentSource.duration||0);
this.player.addOnce("waiting",this.$f(this.updateContent));this.player.values.isLive=!1;this.show()},onStreamFragChanged:function(U){U.data.live?this.hide():this.show()}});BPLR.TimeDivider=l.extend({init:function Ib(La,Db){Ib.base.call(this,La,Db);La.add("streamFragChanged",this.$f(this.onStreamFragChanged));La.add("newContent",this.$f(this.onNewContent))},createElement:function Db(){return Db.base.call(this,"div",{className:"bplr-time-controls bplr-time-divider",innerHTML:"<div><span>/</span></div>"})},
onNewContent:function(){this.show()},onStreamFragChanged:function(Db){Db.data.live?this.hide():this.show()}});BPLR.AdTimeDisplay=l.extend({init:function Qb(Ib,ra){Qb.base.call(this,Ib,ra);Ib.add(["timeupdate","beforeStart","loadedmetadata","adStart","adEnd"],this.$f(this.updateContent))},createElement:function ra(){return ra.base.call(this,"div",{className:"bplr-adtime bplr-time-controls"})},updateContent:function(){if(this.player.getAdInProgress()){var ra=this.player.calculateAdTimeLeft();if(3600<=
ra)ra=Math.floor(ra/3600)+"h";else if(60<=ra)ra=Math.floor(ra/60)+"m";else if(0<ra)ra=Math.max(1,ra)+"s";else{this.el.innerHTML="";return}this.el.innerHTML=(this.player.config.translate&&this.player.config.translate.ad_ends_in||"Ad ends in ")+ra}else""!=this.el.innerHTML&&(this.el.innerHTML="")}});BPLR.LiveInfo=l.extend({init:function xa(Qb,Ma){xa.base.call(this,Qb,Ma);this.hide();this.player.add("streamFragChanged",this.$f(this.onStreamFragChanged));this.player.add(["error","newContent"],this.$f(this.onNewContent));
this.add("click",this.$f(this.onClick))},createElement:function Ma(){return Ma.base.call(this,"div",{className:"bplr-time-controls bplr-live-info",innerHTML:"<div><span></span> "+(this.player.config.translate&&this.player.config.translate.live||"LIVE")+"</div>"})},onClick:function(Ma){this.player.currentTime(this.player.values.totalDuration);this.player.trigger("userInteractionLow")},onStreamFragChanged:function(Ma){BPLR.log("LiveInfo",Ma.data);Ma.data.live?(this.show(),this.player.addClass("bplr-live"),
Ma.data.liveInSync?(this.removeClass("bplr-not-synced"),this.behindEl&&this.el.removeChild(this.behindEl),this.behindEl=null):(this.addClass("bplr-not-synced"),0<Ma.data.behind&&(this.behindEl&&this.el.removeChild(this.behindEl),this.behindEl=null,this.behindEl=this.el.appendChild(u("div",{className:"bplr-behind",innerHTML:"-"+a.formatTime(Ma.data.behind,Ma.data.behind)}))))):(this.hide(),this.player.removeClass("bplr-live"))},onNewContent:function(){this.hide();this.player.removeClass("bplr-live")}});
BPLR.PosterImage=Q.extend({default:{title:"Play Video"},liveImageOn:!1,liveImageTimeout:null,init:function ka(xa,Ua){xa.config.translate&&xa.config.translate.play&&(this.default.title=xa.config.translate.play);ka.base.call(this,xa,Ua);xa.add("beforeStart start playbackerror firstPlay skipped adStart".split(" "),this.$f(this.hide));xa.add("ready",this.$f(this.onPlayerReady));xa.add("playerresize",this.$f(this.onPlayerResize));xa.config.autoplay_on_ad&&xa.addOnce("userInteraction",this.$f(this.onUserInteraction));
xa.add(["showPoster","stopped"],this.$f(this.show));xa.add("requestAd",this.$f(this.onRequestAd))},createElement:function Ua(){return Ua.base.call(this,"div",{className:"bplr-poster",tabIndex:-1})},onPlayerReady:function(){this.player.tech.support.hasPoster&&this.hide()},onUserInteraction:function(){this.hide()},onClick:function(Ua){var ka=this.player;ka.isReady&&(ka.trigger("userInteraction"),ka.togglePlay(Ua))},onMouseOver:function(){this.liveImageEl&&this.showLiveImage()},onMouseOut:function(){this.liveImageEl&&
this.hideLiveImage()},showLiveImage:function(){function Ua(ka){return ka?ka.replace(/^((ftp|file|https?):)?/i,""):ka}this.liveImageTimeout||this.liveImageOn||!this.currentLiveImage||BPLR.Util.hasClass(this.player.el,"bplr-end-screen")||(this.player.playButtonOverlay.el.style.opacity=.3,this.player.playButtonOverlay.el.style.pointerEvents="none",this.liveImageOn=!0,this.liveImageEl.style.display="block",Ua(this.liveImageEl.src)!=Ua(this.currentLiveImage)&&(this.liveImageEl.src=this.currentLiveImage))},
hideLiveImage:function(){this.player.isPlaying||(this.player.playButtonOverlay.el.style.opacity="",this.player.playButtonOverlay.el.style.pointerEvents="");this.liveImageEl.style.display="none";clearTimeout(this.liveImageTimeout);this.liveImageTimeout=null;this.liveImageOn=!1},getRendition:function(){if(!this.player.currentSource.snapshots)return!1;var Ua=this.player.el.clientHeight,ka=BPLR.Util.Renditions.data,z=null,A=null,w;for(w in ka)ka.hasOwnProperty(w)&&(this.player.currentSource.snapshots[w]&&
(A=w),!z&&ka[w]>=Ua&&this.player.currentSource.snapshots[w]&&(z=w));return z||A},onPlayerResize:function(){0<this.player.el.clientHeight&&!this.heightObtained&&(this.player.remove("playerresize",this.$f(this.onPlayerResize)),this.heightObtained=!0,!this.el.style.backgroundImage&&this.showWhenHeightObtained&&this.show())},show:function ka(){var z=this.player,A=z.config.poster||z.currentSource.poster,w=z.config.webp||z.currentSource.webp;if(!z.config.poster&&z.currentSource.snapshots&&Object.keys(z.currentSource.snapshots).length){if(!this.heightObtained){this.showWhenHeightObtained=
!0;return}var la=this.getRendition();la&&(A=z.currentSource.snapshots[la]);BPLR.log("PosterImage using rendition",la,"available",Object.keys(z.currentSource.snapshots).join(", "))}!z.config.autoplay&&z.config.use_og_image_as_snapshot&&(la=a.elBySelector('meta[property="og:image"]'))&&(A=la.content,w="");"undefined"===typeof A||z.tech.support.hasPoster?this.hide():(A&&this.currentPoster!==A&&(this.currentPoster=A,this.el.style.backgroundImage="url('"+A+"')",w&&this.currentLiveImage!==w&&a.isChrome()&&
!BPLR.isMobilePlatform&&(this.currentLiveImage=w,this.liveImageEl&&this.el.removeChild(this.liveImageEl),this.liveImageEl=this.el.appendChild(u("img")),this.liveImageEl.style.pointerEvents="none",this.liveImageEl.onload=this.$f(function(){this.liveImageTimeout=setTimeout(this.$f(this.hideLiveImage),3E3)}),qb(this.liveImageEl,{display:"none",pointerEvents:"none"}))),z.config.keepPosterAspect?this.addClass("keep-aspect"):this.removeClass("keep-aspect"),ka.base.call(this))},hide:function A(z){BPLR.log("PosterImage hide",
z);if(!z||!this.player.config.autoplay_on_ad||"firstPlay"!==z.type&&"beforeStart"!==z.type)this.player.playButtonOverlay.el.style.opacity="",this.player.playButtonOverlay.el.style.pointerEvents="",A.base.call(this)},onRequestAd:function(z){BPLR.log("PosterImage onRequestAd showSnapshotOnLoadingAd",this.player.config.showSnapshotOnLoadingAd);var A=a.execFn(function(){return z.data.adType});if(this.player.config.showSnapshotOnLoadingAd&&"0"===A)return BPLR.log("PosterImage onRequestAd poster overlay has been shown!"),
this.show()}});BPLR.TitleBar=l.extend({listeners:!1,init:function la(A,w){la.base.call(this,A,w);"undefined"!=typeof A.config.titleBar&&0==A.config.titleBar&&this.toggleListeners(!1);this.hide();A.addOnce("ready",this.$f(this.onPlayerReady));A.addOnce(["beforeStart","start"],this.$f(this.onStart));A.add(["newContent","showPoster"],this.$f(this.fadeIn));A.add("enableInteraction",this.$f(this.onEnableControls));A.add("disableInteraction",this.$f(this.onDisableControls));this.player.add("videoLoadingStart",
this.$f(function(){this.hide()}));this.player.add("videoLoadingEnd",this.$f(function(){this.show()}))},createElement:function w(){var la=w.base.call(this,"div",{className:"bplr-poster-title"});this.div=a.createElement("div");la.appendChild(this.div);return la},onPlayerReady:function(){var w=this.player;("undefined"==typeof w.config.titleBar||w.config.titleBar)&&this.show()},toggleListeners:function(w){var la=w?"add":"remove";this.listeners!=w&&(this.listeners=w,this.player[la]("show",this.$f(this.fadeIn)),
this.player[la]("hide",this.$f(this.fadeOut)))},onStart:function(){this.onEnableControls();this.player.config.autoplay&&"autohide"===this.player.config.controlsBehavior&&this.fadeOut()},onDisableControls:function(){this.toggleListeners(!1);this.fadeOut()},onEnableControls:function(){var w=this.player;w.getAdInProgress()||BPLR.isMobilePlatform&&w.positionType==Hb.IN_GLIDE||(this.fadeIn(),this.toggleListeners(!0))},fadeIn:function la(){if(!this.player.config.sticky_title_above_text||this.player.positionType!==
Hb.IN_GLIDE){var Eb=this.player.currentSource.title||this.player.currentSource.name;"undefined"!=typeof Eb&&this.div.innerHTML!=Eb&&(this.div.innerHTML=Eb);la.base.call(this)}},fadeOut:function Eb(){Eb.base.call(this)}});BPLR.AdInfo=l.extend({init:function mb(ha,Rb){if(a.adBlockerEnabled)return!1;mb.base.call(this,ha,Rb);this.hide();this.title_loading_ad=(ha.config.translate&&ha.config.translate.loading_ad||"Loading Ad")+" <em></em>";this.title_advertisement=ha.config.translate&&ha.config.translate.ad||
"Ad";this.title_ad_will_start=ha.config.translate&&ha.config.translate.ad_starts_soon||"Ad starts soon";this.title_video_loading=(ha.config.translate&&ha.config.translate.video_loading||"Video Loading")+" <em></em>";ha.add(["newContent","ended","adEnd","adError"],this.$f(this.hide));ha.add("adStartsSoon",this.$f(this.onAdStartsSoon));ha.add("adStart",this.$f(function(){this.player.bannerMode?this.hide():this.player.getAdInProgress()&&(this.el.innerHTML=this.title_advertisement,this.player.delayPrerollInProgress?
this.hide():this.show())}));ha.add("vpaidStart",this.$f(function(){this.player.config.vpaid_advertisement||this.hide()}));ha.add("requestAd",this.$f(function(){this.el.innerHTML=this.title_loading_ad;this.show()}));ha.add("videoLoadingStart",this.$f(function(){this.el.innerHTML=this.title_video_loading;this.show()}));ha.add("videoLoadingEnd",this.$f(function(){this.hide()}))},createElement:function Rb(){return Rb.base.call(this,"div",{className:"bplr-ad-info"})},onAdStartsSoon:function(){this.el.innerHTML=
this.title_ad_will_start;this.show();this.player.addOnce("hideAdInfo",this.$f(this.hide))}});BPLR.NextAutoSkip=l.extend({shown:!1,disabled:!1,secondsToShow:7,skipAtSeconds:0,init:function Z(mb,cb){if(!mb.config.auto_skip_at||0==parseInt(mb.config.auto_skip_at))return!1;Z.base.call(this,mb,cb);this.hide();mb.add(["timeupdate","beforeStart","adStart","adEnd"],this.$f(this.updateContent));mb.add(["newContent","playlistchange"],this.$f(this.onNewContent));mb.add(["userInteraction","userInteractionLow"],
this.$f(this.onUserInteraction))},createElement:function cb(){var Z=cb.base.call(this,"div",{className:"bplr-next-autoskip"}),V=this.progressBar=u("div",{className:"bplr-next-progress"}),D=u("div",{className:"bplr-next-skip",innerHTML:this.player.config.translate&&this.player.config.translate.skip||"Skip"}),J=u("div",{className:"bplr-next-stay",innerHTML:this.player.config.translate&&this.player.config.translate.stay||"Stay"});D.onclick=this.$f(function(){this.player.next()});J.onclick=this.$f(function(){this.disabled=
!0;this.hide()});D.appendChild(V);Z.appendChild(D);Z.appendChild(J);return Z},updateContent:function(){if(!this.player.getAdInProgress()&&!this.disabled&&(0==this.skipAtSeconds&&(this.skipAtSeconds=parseInt("string"==typeof this.player.config.auto_skip_at&&0<this.player.config.auto_skip_at.indexOf("%")?parseInt(this.player.config.auto_skip_at)*this.player.duration()*.01:this.player.config.auto_skip_at),0<this.skipAtSeconds&&(this.secondsToShow>this.skipAtSeconds&&(this.skipAtSeconds=this.secondsToShow),
BPLR.log("Player set video skip at",a.formatTime(this.skipAtSeconds)))),!this.player.getAdInProgress()&&1<this.player.playlistLength&&this.player.isNextQueued()&&this.player.duration()>this.skipAtSeconds&&0<this.skipAtSeconds)){var cb=this.player.currentTime()||0,Z=this.skipAtSeconds-this.secondsToShow;!this.shown&&cb>=Z?(this.shown=!0,this.shownAt=Date.now(),this.show()):this.shown&&(cb=(cb-Z)/this.secondsToShow,Z=(Date.now()-this.shownAt)/1E3,this.progressBar.style.width=100*cb+"%",1<=cb&&.9<Z/
this.secondsToShow&&(this.disabled=!0,this.player.next()))}},onNewContent:function(){this.disabled=this.shown=!1;this.shownAt=null;this.skipAtSeconds=0;this.progressBar.style.width="0%";this.hide()},onUserInteraction:function(){this.disabled=!0;this.shown&&this.hide()}});BPLR.NextVideoNotification=l.extend({active:!1,closed:!1,haveNext:!1,init:function D(Z,V){D.base.call(this,Z,V);if(Z.config.player_mod&&"native"==Z.config.player_mod)return!1;Z.config.next_video_preview&&(Z.add(["timeupdate","beforeStart",
"adStart","adEnd"],this.$f(this.updateContent)),Z.add(["newContent","playlistchange"],this.$f(this.onNewContent)))},createElement:function V(){return V.base.call(this,"div",{className:"bplr-next-popup"})},initInnerElements:function(){var V=u("div",{className:"bplr-desc",innerHTML:'<div class="bplr-next">'+(this.player.config.translate&&this.player.config.translate.next_video||"Next Video")+"</div>"});this.nextHolder=u("div",{className:"bplr-next-holder"});this.thumb=u("div",{className:"bplr-thumb"});
this.nextHolder.onclick=this.$f(function(){this.player.trigger("nextpopup");this.url?da.open(this.url,"_blank"):this.player.next(!0)});this.title=u("div",{className:"bplr-next-title"});this.duration=u("div",{className:"bplr-next-duration"});this.close=u("div",{className:"bplr-next-close",innerHTML:"&times;"});this.close.onclick=this.$f(function(){this.removeClass("open");this.closed=!0});V.appendChild(this.title);V.appendChild(this.duration);this.nextHolder.appendChild(this.thumb);this.nextHolder.appendChild(V);
this.el.appendChild(this.nextHolder);this.el.appendChild(this.close)},updateContent:function(){if(this.player.getAdInProgress()&&this.active)this.active=!1,this.removeClass("open");else if(!this.player.getAdInProgress()&&!this.closed&&260<this.player.el.offsetHeight&&1<this.player.playlistLength&&this.player.isNextQueued()&&3<this.player.duration()){var V=this.player.duration()-(this.player.currentTime()||0),D=Math.min(15,this.player.duration()/3);!this.active&&V<D?(this.nextHolder||(this.initInnerElements(),
this.onNewContent()),this.haveNext&&(this.active=!0,this.addClass("open"))):this.active&&V>=D&&(this.active=!1,this.removeClass("open"))}},onNewContent:function(){this.haveNext=this.active=!1;this.removeClass("open");if(this.nextHolder){var V=this.player.currentIndex==this.player.playlistLength-1&&"loop"==this.player.config.afterPlaylistEnd?0:this.player.currentIndex+1;if(V in this.player.videos){var D=this.player.videos[V];D.thumbnail&&(this.thumb.style.backgroundImage="url('"+D.thumbnail+"')");
this.title.innerHTML=D.title;V=a.formatTime(D.duration);this.duration.innerHTML=V.match(/NaN/)?"":V;this.url=D.urlNextUp;this.haveNext=!0}}}});BPLR.NextVideoTimer=l.extend({active:!1,closed:!1,haveNext:!1,minHeight:180,duration:10,svg:"18 18' width='60px' height='60px'><circle transform='scale(0.25) translate(0 0.1)'cx='36' cy='36' fill='#fff' fill-opacity='0.3' r='31.5'></circle><circle id='--PLAYER_ID--_krug' class='bplr-next-video-timer-animation' transform ='scale(0.25) translate(0 0.1) rotate(-90,36,36)' cx='36' cy='36' fill-opacity='0' r='33.5' stroke='#fff' stroke-dasharray='211' stroke-dashoffset='-211' stroke-width='4' transform='rotate(-90)'></circle><path transform='scale(0.25) translate(0 0.1)' d='M 24,48 41,36 24,24 V 48 z M 44,24 v 24 h 4 V 24 h -4 z' fill='#fff'></path><animate xlink:href='#--PLAYER_ID--_krug'attributeName='stroke-dashoffset'from='-211'to='-422' dur='--DURATION--s'begin='click' restart='always' fill='freeze' id='--PLAYER_ID--_animation'/><animate>",
timer:null,previousViewState:null,player:this.player,init:function sa(D,J){this.svg=this.svg.replace(/--PLAYER_ID--/g,D.id);this.svg=this.svg.replace(/--DURATION--/g,this.duration);sa.base.call(this,D,J);this.previousViewState=this.player.isPlayerInView();if(D.config.player_mod&&"native"==D.config.player_mod)return!1;D.add("showNextVideoTimer",this.$f(this.onNextVideoTimer));D.add(["newContent","playlistchange"],this.$f(this.onNewContent));D.add("beforeStart",this.$f(function(){this.active=!1;this.clearTimeout();
this.removeClass("open")}));hb.addEventListener("scroll",a.throttle(this.$f(this.isInView),50,this))},createElement:function J(){return J.base.call(this,"div",{className:"bplr-next-video-timer"})},initInnerElements:function(){var J=u("div",{className:"bplr-next-video-timer-desc",innerHTML:'<div class="bplr-next-video-timer-next">'+(this.player.config.translate&&this.player.config.translate.next_video||"Next Video")+"</div>"});this.nextHolder=u("div",{className:"bplr-next-video-timer-holder"});this.title=
u("div",{className:"bplr-next-video-timer-title"});this.close=u("div",{className:"bplr-next-video-timer-close",innerHTML:this.player.config.translate&&this.player.config.translate.close||"Cancel"});this.close.onclick=this.$f(function(){this.closed=!0;this.active=!1;this.clearTimeout();this.removeClass("open");"startScreen"===this.player.config.videoPlayback?(this.player.trigger("showPoster"),this.player.mouseOver()):"shareScreen"===this.player.config.videoPlayback?this.player.trigger("openShareScreen"):
"relatedScreen"===this.player.config.videoPlayback&&this.player.trigger("openRelatedScreen")});this.indicator=u("div",{className:"bplr-next-video-timer-indicator",innerHTML:this.player.config.translate&&this.player.config.translate.autoplay_paused||"Autoplay is paused"});this.next=u("div",{className:"bplr-next-video-timer-sprite",innerHTML:a.generateSVG(this.svg)});this.next.onclick=this.$f(function(){this.active=!1;this.clearTimeout();this.removeClass("open");this.player.next(!0)});J.appendChild(this.title);
this.nextHolder.appendChild(J);this.nextHolder.appendChild(this.next);this.nextHolder.appendChild(this.close);this.nextHolder.appendChild(this.indicator);this.el.appendChild(this.nextHolder)},clearTimeout:function(){hb.clearTimeout(this.timer);this.timer=null},onNextVideoTimer:function(){var J=this.player;this.nextHolder||(this.initInnerElements(),this.onNewContent());if(this.player.getAdInProgress()&&this.active)this.active=!1,this.removeClass("open");else if(!this.player.getAdInProgress()&&!this.closed)if(this.player.el.offsetHeight<
this.minHeight)this.player.next(!0);else{this.active=!0;this.addClass("open");var sa=new Event("click");ib.getElementById(this.player.id+"_krug").dispatchEvent(sa);this.timer=hb.setTimeout(function(){J.next(!0)},1E3*this.duration,!1);this.isInView();this.player.nextVideoNotification&&this.player.nextVideoNotification.el.classList.remove("open")}},isInView:function(){var J=this.player,sa=this.player.isPlayerInView();this.active&&sa!=this.previousViewState&&(sa?(this.previousViewState=!0,sa=new Event("click"),
ib.getElementById(this.player.id+"_krug").dispatchEvent(sa),this.timer=hb.setTimeout(function(){J.next(!0)},1E3*this.duration,!1),this.player.nextVideoTimer.el.classList.remove("bplr-timed-out")):(this.previousViewState=!1,this.clearTimeout(),this.player.nextVideoTimer.el.classList.add("bplr-timed-out"),ib.getElementById(this.player.id+"_animation").endElement()))},onFullScreenChange:function(){this.isInView()},onNewContent:function(){this.haveNext=this.closed=this.active=!1;this.removeClass("open");
if(this.nextHolder){var J=this.player.currentIndex==this.player.playlistLength-1&&"loop"==this.player.config.afterPlaylistEnd?0:this.player.currentIndex+1;J in this.player.videos&&(J=this.player.videos[J],J.thumbnail&&(this.nextHolder.style.backgroundImage="linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), url('"+J.thumbnail+"')"),this.title.innerHTML=J.title,this.haveNext=!0)}}});BPLR.MenuScreen=l.extend({default:{children:{menuScreenList:{childClass:"MenuScreenList"}}},init:function Fa(sa,
aa){sa.config.contextMenu&&(Fa.base.call(this,sa,aa),sa.add("disableInteraction",this.$f(this.disableInteraction)),sa.add("enableInteraction",this.$f(this.enableInteraction)),sa.add("stickyChange",this.$f(this.onCloseMenuScreen)),this.enableInteraction())},createElement:function aa(){return aa.base.call(this,"div",{className:"bplr-menu-screen bplr-hidden"})},disableInteraction:function(){this.player.remove("contextmenu",this.$f(this.openContextMenu));if(this.open)this.onCloseMenuScreen()},enableInteraction:function(){this.player.config.contextMenu&&
!a.isDebug()&&(this.player.remove("contextmenu",this.$f(this.openContextMenu)),this.player.add("contextmenu",this.$f(this.openContextMenu)))},openContextMenu:function(aa){aa.preventDefault();var Fa=aa.clientX-this.player.el.getBoundingClientRect().left,db=aa.clientY-this.player.el.getBoundingClientRect().top,eb=this.player.el.clientWidth-Fa-205,yb=this.player.el.clientHeight-db-(BPLR.isMobilePlatform?77:112)-5;0>eb&&(Fa+=eb);0>yb&&(db+=yb);this.add("mouseover",this.$f(this.setCloseMenuScreenTimer));
this.add("mouseleave",this.$f(this.setCloseMenuScreenTimer));this.onOpenMenuScreen(Fa,db,aa)},onOpenMenuScreen:function(aa,Fa,db){this.player.shortcutsScreen.open||(this.player.add("closeMenu",this.$f(this.onCloseMenuScreen)),this.setCloseMenuScreenTimer(db),this.player.menuScreen.el.style.left=aa+"px",this.player.menuScreen.el.style.top=Fa+"px",this.player.menuScreen.el.classList.remove("bplr-hidden"),this.open=!0)},setCloseMenuScreenTimer:function(aa){var Fa=this.player;switch(aa.type){case "contextmenu":aa=
3;break;case "mouseover":aa=5;break;case "mouseleave":aa=1;break;default:aa=2}hb.clearTimeout(this.timer);this.timer=null;this.timer=hb.setTimeout(function(){Fa.trigger("closeMenu")},1E3*aa,!1)},onCloseMenuScreen:function(){hb.clearTimeout(this.timer);this.timer=null;this.player.menuScreen.el.classList.add("bplr-hidden");this.open=!1;this.player.remove("closeMenu",this.$f(this.onCloseMenuScreen));this.remove("mouseover",this.$f(this.setCloseMenuScreenTimer));this.remove("mouseleave",this.$f(this.setCloseMenuScreenTimer))}});
BPLR.MenuScreenList=l.extend({default:{children:{share:{childClass:"ShareListButton"},shortcuts:{childClass:"ShortcutsListButton"},poweredBy:{childClass:"PoweredByListButton"}}},init:function eb(Fa,db){!BPLR.isMobilePlatform&&Fa.config.shortcutsEnabled||delete this.default.children.shortcuts;eb.base.call(this,Fa,db)},createElement:function db(){return db.base.call(this,"ul",{className:""})}});BPLR.ShareListButton=Q.extend({default:{title:""},init:function nb(eb,yb){0!=eb.config.shareScreen&&(nb.base.call(this,
eb,yb),eb.add(["start","enableInteraction"],this.$f(this.fadeIn)),eb.add("disableInteraction",this.$f(this.fadeOut)))},createElement:function yb(){var nb=yb.base.call(this,"li",{className:"",style:"border:0"});nb.appendChild(u("button",{className:"",innerHTML:this.player.config.translate&&this.player.config.translate.share?this.player.config.translate.share:"Share"}));return nb},onClick:function(){this.player.trigger("closeMenu");this.player.trigger("openShareScreen");this.player.trigger("userInteractionLow")}});
BPLR.ShortcutsListButton=Q.extend({default:{title:""},init:function ob(nb,Jb){Jb.name="OpenShortcuts";ob.base.call(this,nb,Jb);nb.add(["start","enableInteraction"],this.$f(this.fadeIn));nb.add("disableInteraction",this.$f(this.fadeOut))},createElement:function Jb(){var ob=Jb.base.call(this,"li",{className:""});ob.appendChild(u("button",{className:"",innerHTML:this.player.config.translate&&this.player.config.translate.shortcuts?this.player.config.translate.shortcuts:"Keyboard Shortcuts"}));return ob},
onClick:function(){this.player.trigger("closeMenu");this.player.trigger("openShortcutsScreen");this.player.trigger("userInteractionLow")}});BPLR.PoweredByListButton=Q.extend({svg:"16.9 16.5'><path fill='#ff0000' d='M13.5,0H3.3C1.5,0,0,1.5,0,3.3v9.9c0,1.8,1.5,3.3,3.3,3.3h10.3c1.8,0,3.3-1.5,3.3-3.3V3.3 C16.8,1.5,15.3,0,13.5,0z'/><path class='brand-bg' fill='red' d='M13.5,0H3.3C1.5,0,0,1.5,0,3.3v9.9c0,1.8,1.5,3.3,3.3,3.3h10.3c1.8,0,3.3-1.5,3.3-3.3V3.3 C16.8,1.5,15.3,0,13.5,0z'/><g><path fill='#FFF' d='M2.2,6.3c0.2,0,0.4-0.1,1-0.2C3.8,5.9,4,5.9,4.6,5.8c-0.1,0.4-0.1,1-0.1,1.6C4.4,8.2,4.4,9,4.4,9.1 c0,0.2,0,1,0,1.2c0,0.7,0,1,0.1,1.3c0.1,0.2,0.2,0.3,0.2,0.5c0.1,0.2,0.3,0.2,0.5,0.2c0.2-0.1,0.4-0.3,0.4-0.5v-0.1 c0-0.1,0-0.1,0-0.2c0-0.1,0-0.1,0-0.2c0-0.3,0-0.6,0-0.8c0,0,0-0.3,0-0.6c0-0.2,0-0.5,0-1c0-0.2,0-0.4,0-1.1c0-0.5,0-1.3,0.1-1.9 c0,0,0,0,0.1,0c0.1,0,0.4-0.1,0.8-0.1c0.5-0.1,1.3-0.1,1.6-0.2c0.1,0,0.3-0.1,0.3-0.1V5.3c0,0,0-0.1,0-0.3c0-0.1,0-0.1,0-0.1V4.8 c0.1,0,0-0.1,0-0.1c-0.1,0-0.1-0.1-0.1-0.1L8.3,4.5c-0.1,0,0,0-0.1,0c-0.1,0-0.2,0-0.2,0s0,0-0.1,0C7.6,4.6,6.3,4.8,5.5,4.9 C4.5,5.1,3,5.4,2.1,5.6c-0.2,0-0.2,0.2-0.2,0c0,0.1,0,0.2,0,0.2c0,0.1,0,0.1,0,0.2c0,0,0,0.1,0.1,0.2C2,6.2,2.1,6.3,2.2,6.3z'/><path fill='#FFF' d='M9.9,10.8c0.2,0.5,0.7,1.3,1.2,1.3c0.6,0,0.8-0.9,1.1-1.6C12.6,9.6,12.8,9,13,8.4c0.2-0.6,1-2.6,1.1-2.8 c0.1,0,0.2-0.3,0.3-0.3c0.1-0.1,0.2-0.3,0-0.4c0-0.1-0.1-0.3-0.2-0.4c-0.1-0.1-0.3-0.2-0.4-0.2c-0.1,0-0.3,0.1-0.5,0.2 C13.1,4.6,13,4.7,13,4.8c0,0.1-0.1,0.3-0.1,0.4c0,0-0.1,0.6-0.3,1.2C12.4,7,12.2,7.5,12,8c-0.2,0.4-0.5,1.3-0.8,1.9 c-0.2,0.4-0.3,0.6-0.4,0.6c-0.1,0-0.3-0.7-0.4-1.3c-0.1-0.7-0.3-1.5-0.3-2c0-0.4-0.1-1.4-0.1-1.7S9.8,5,9.7,4.9 c-0.1,0-0.3-0.1-0.4-0.1c-0.2,0-0.4,0.4-0.4,0.7c0,0.2,0,0.3,0,0.4c0,0,0,0.1,0,0.2C9,6.7,9.2,7.8,9.3,8.6 C9.5,9.4,9.7,10.3,9.9,10.8z'/></g>",
default:{title:""},init:function fb(ob,Fb){Fb.name="PoweredBy";fb.base.call(this,ob,Fb);ob.add(["start","enableInteraction"],this.$f(this.fadeIn));ob.add("disableInteraction",this.$f(this.fadeOut))},createElement:function Fb(){var fb=this.player.config.Partner.brand,Ga=this.player.config.VERSION.substr(0,7),Gb=fb?"#":"https://www.brid.tv/pricing";var pb=fb?(this.player.config.translate&&this.player.config.translate.poweredBy?this.player.config.translate.playerVersion:"Player Version")+" "+Ga:a.generateSVG(this.svg)+
(this.player.config.translate&&this.player.config.translate.poweredBy?this.player.config.translate.poweredBy:"Powered By")+" BPLR Player "+Ga;Ga=Fb.base.call(this,"li",{className:""});fb=Fb.base.call(this,fb?"div":"a",{className:"",href:Gb,target:"_blank",innerHTML:pb});Ga.appendChild(fb);return Ga},appendClassName:function fb(){return"bplr-share-control bplr-control "+fb.base.call(this)},onClick:function(){this.player.trigger("closeMenu");this.player.trigger("userInteractionLow")}});BPLR.ShortcutsScreen=
l.extend({default:{children:{shortuctsList:{}}},init:function pb(Ga,Gb){pb.base.call(this,Ga,Gb);Ga.add("openShortcutsScreen",this.$f(this.onOpenShortcutsScreen));Ga.add(["disableInteraction","closeShortcutsScreen"],this.$f(this.onCloseShortcutsScreen));Ga.add("ready",this.$f(function(){var ba=this.close=new BPLR.Close(Ga,{name:"Close"});qb(ba,{top:"1em",right:"1em"});ba.addClass("bp-pos-abs");ba.addClass("shortcut-screen-close");ba.add("close",this.$f(function(){Ga.trigger("closeShortcutsScreen")}));
this.addChild(ba)}))},createElement:function Gb(){return Gb.base.call(this,"div",{className:"bplr-shortcuts-screen bplr-hidden",innerHTML:" "})},onOpenShortcutsScreen:function(){this.open=!0;this.removeClass("bplr-hidden");this.player.add("closeShareScreen",this.$f(this.onCloseShortcutsScreen))},onCloseShortcutsScreen:function(){this.open=!1;this.addClass("bplr-hidden");this.player.remove("closeShareScreen",this.$f(this.onCloseShortcutsScreen));this.player.add("openShortcutsScreen",this.$f(this.onOpenShortcutsScreen));
this.player.touch.el.focus({preventScroll:!0})}});BPLR.ShortuctsList=l.extend({list:[["Play / Pause","SPACE"],["Increase Volume","&#8593"],["Decrease Volume","&#8595"],["Seek Forward","&#8594"],["Seek Backward","&#8592"],["Seek to %","0-9"],["Toggle Captions","c"],["Toggle Fullscreen","f"],["Mute / Unmute","m"]],init:function O(pb,ba){if(pb.config.contextMenu){var Na=a.getLocalStorage("BPLR_shortcuts");pb.config.shortcutsEnabled&&(pb.config.shortcutsEnabled=!Na||"1"===Na);O.base.call(this,pb,ba)}},
createElement:function ba(){var O=this.player,Na=ba.base.call(this,"div",{className:"bplr-shortcuts-list"});var y=O.config.translate&&O.config.translate.shortcuts?O.config.translate.shortcuts:"Keyboard Shortcuts";var m=ba.base.call(this,"div",{className:"bplr-shortcut-holder",innerHTML:""});y=ba.base.call(this,"span",{className:"",innerHTML:y});var q=ba.base.call(this,"span",{className:"bplr-shortcut-toggle",innerHTML:""});var P=ba.base.call(this,"input",{className:"sht hidden",type:"checkbox",id:"bridkeystoggle",
checked:this.player.config.shortcutsEnabled});f=ba.base.call(this,"label",{className:"sht_tgl",htmlFor:P.id});P.addEventListener("change",function(Ha){BPLR.Util.setLocalStorage("BPLR_shortcuts",Ha.target.checked?"1":"0",!1,O.config);O.config.shortcutsEnabled=Ha.target.checked});q.appendChild(P);q.appendChild(f);m.appendChild(y);m.appendChild(q);Na.appendChild(m);for(q=0;q<this.list.length;q++){m=ba.base.call(this,"div",{className:"bplr-shortcut-holder",innerHTML:""});y=ba.base.call(this,"span",{className:"bplr-shortcut-desc",
innerHTML:""});P=ba.base.call(this,"span",{className:"bplr-shortcut",innerHTML:""});var ya="shortcode_"+this.list[q][0].replace(/[^a-zA-Z0-9]/g,"").toLowerCase();y.innerHTML=O.config.translate&&O.config.translate[ya]?O.config.translate[ya]:this.list[q][0];P.innerHTML=this.list[q][1];m.appendChild(y);m.appendChild(P);Na.appendChild(m)}return Na}});BPLR.Share=Q.extend({svg:"24 24'><path fill='#fff' d='M12.74,13.06 v4.9 l9.8,-7.3 l-9.8,-7.4 v4.6 c-11.8,0 -12.2,12.5 -12.2,12.5 C3.94,14.96 6.34,13.06 12.74,13.06 z' />",
default:{title:"Share Video"},init:function y(O,Na){Na.name="OpenShare";0!=O.config.shareScreen&&(O.config.translate&&O.config.translate.share&&(this.default.title=O.config.translate.share),y.base.call(this,O,Na),this.el.innerHTML=a.generateSVG(O.config.Skin.OpenShare||this.svg),O.add(["start","enableInteraction"],this.$f(this.fadeIn)),O.add("disableInteraction",this.$f(this.fadeOut)))},appendClassName:function Na(){return"bplr-share-control bplr-control "+Na.base.call(this)},onClick:function(){this.player.trigger("openShareScreen");
this.player.trigger("userInteractionLow")}});BPLR.Pip=Q.extend({svg:{pipOff:"24 24'> <path fill='none' d='M0 0h24v24H0z'/><path fill='currentColor' style='color:white;' fill-rule='nonzero' d='M21 3a1 1 0 0 1 1 1v7h-2V5H4v14h6v2H3a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h18zm0 10a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1h-8a1 1 0 0 1-1-1v-6a1 1 0 0 1 1-1h8zm-1 2h-6v4h6v-4z'/>",pipOn:"24 24'> <path fill='none' d='M0 0h24v24H0z'/><path fill='currentColor' style='color:white;' fill-rule='nonzero' d='M21 3a1 1 0 0 1 1 1v7h-2V5H4v14h6v2H3a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h18zm0 10a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1h-8a1 1 0 0 1-1-1v-6a1 1 0 0 1 1-1h8z'/>"},
default:{title:"Picture in picture"},init:function q(y,m){m.name="pip";if(y.config.pip){if(!("pictureInPictureEnabled"in za))return BPLR.log("PIP init : The Picture-in-Picture Web API is not available.");if(!za.pictureInPictureEnabled)return BPLR.log("PIP init : The Picture-in-Picture Web API is disabled.");y.config.translate&&y.config.translate.pip&&(this.default.title=y.config.translate.pip);q.base.call(this,y,m);this.el.innerHTML=a.generateSVG(this.svg.pipOff,this.player.id);this.currentTechName=
"";this.player.isPipActive=!1;this.onLoadedMetaData=this.onLoadedMetaData.bind(this);y.add("enterpictureinpicture",this.$f(this.onEnterPictureInPicture));y.add("leavepictureinpicture",this.$f(this.onLeavePictureInPicture));y.add("fullscreenchange",this.$f(this.onFullScreenChange));y.add("adStart",this.$f(this.onAdStart));y.add("adsCompleted",this.$f(this.onAdsCompleted));y.add(["start","enableInteraction"],this.$f(this.fadeIn));y.add("disableInteraction",this.$f(this.fadeOut));y.add("newContent",
this.$f(this.onNewContent));y.add("ended",this.$f(this.onEnded));y.add("playlistComplete",this.$f(this.onPlaylistComplete));y.add("destroyBefore",this.$f(this.onDestroyBefore));this.tryToShowPIPButton()}},appendClassName:function m(){return"bplr-share-control bplr-control bplr-pip "+m.base.call(this)},findAdvertisingVideoTag:function(){for(var m=Array.from(this.player.adsManager.el.getElementsByTagName("video")),q=0;q<m.length;q++){var P=m[q];if(P.src)return P}m=Array.from(this.player.adsManager.el.getElementsByTagName("lima-video"));
for(q=0;q<m.length;q++)if(P=m[q],P.src)return P;if(m=this.player.adsManager.el.querySelector('[title="Advertisement"]'))return m},tryToShowPIPButton:function(){var m=!0;if(a.isFF()||a.isOpera())m=!1;m?this.show():this.hide()},enterPictureInPicture:function(m){BPLR.log("PIP enterPictureInPicture : called()");this.waitForVideoTagReadyStateCompleted(m,function(){m.requestPictureInPicture().then(function(){BPLR.log("PIP enterPictureInPicture : success!")}).catch(function(q){BPLR.log("PIP enterPictureInPicture : ERROR",
q)})})},leavePictureInPicture:function(){return this.player.isPipActive?za.exitPictureInPicture().then(function(){BPLR.log("PIP leavePictureInPicture : exited successfully")}).catch(function(m){BPLR.log("PIP leavePictureInPicture : ERROR",m)}):BPLR.log("PIP leavePictureInPicture : PIP mode was not active. Do nothing.")},onEnterPictureInPicture:function(){BPLR.log("PIP onEnterPictureInPicture : called()!");if((this.player.getAdInProgress()?this.findAdvertisingVideoTag():this.player.tag)!==za.pictureInPictureElement)return BPLR.log("PIP onEnterPictureInPicture : PIP mode was entered, but on a different player. Exit.");
this.player.isPipActive=!0;this.el.innerHTML=a.generateSVG(this.svg.pipOn,this.player.id)},onLeavePictureInPicture:function(){BPLR.log("PIP onLeavePictureInPicture : called()!");this.player.isPipActive=!1;this.el.innerHTML=a.generateSVG(this.svg.pipOff,this.player.id)},onFullScreenChange:function(){BPLR.log("PIP onFullScreenChange : called()!");this.leavePictureInPicture()},waitForVideoTagReadyStateCompleted:function(m,q){var P=this;setTimeout(function(){BPLR.log("PIP waitForVideoTagReadyStateCompleted : setTimeout() called!");
3<m.readyState?q():P.waitForVideoTagReadyStateCompleted(m,q)},50)},onAdStart:function(){if(!this.player.isPipActive)return BPLR.log("PIP onAdStart : PIP mode was not active. Do nothing.");if(this.adBreakStarted)return BPLR.log("PIP onAdStart : onAdStart() handler was already called. Do nothing.");if(this.player.daiAdManagerCall("getActiveSessionProperty","currentAd"))return BPLR.log("PIP DAI ad is in progress, no need to switch PIP element.");if(a.isiOSSafari()&&this.player.Advertising.currentAdsManager&&
"BPLR.VAST"===this.player.Advertising.currentAdsManager.name)return BPLR.log("PIP onAdStart : IOS Safari, with the brid parser, uses the same video element. Cancel switch");this.adBreakStarted=!0;var m=this.findAdvertisingVideoTag();BPLR.log("PIP onAdStart : ad video node",m);m?this.enterPictureInPicture(m):BPLR.log("PIP onAdStart [ERROR] : ad video node was undefined.")},onAdsCompleted:function(){BPLR.log("PIP onAdsCompleted : called()");if(!this.adBreakStarted)return this.adBreakStarted=!1,BPLR.log("PIP onAdsCompleted : onAdStart() handler did NOT switch to the ad video node tag. Do nothing");
this.adBreakStarted=!1;if(!this.player.isPipActive)return BPLR.log("PIP onAdsCompleted : PIP mode was not active. Do nothing.");if("2"===this.player.adsManager.currentAdObject.adType&&!this.player.isNextQueued())return BPLR.log("PIP onAdsCompleted : Postroll ended, and no new video is queued. Do nothing.");if(this.player.loadedmetadataDispatched)this.onLoadedMetaData();else this.player.tag.addEventListener("loadedmetadata",this.onLoadedMetaData)},onLoadedMetaData:function(){BPLR.log("PIP onLoadedMetaData : called()!");
this.player.tag.removeEventListener("loadedmetadata",this.onLoadedMetaData);this.enterPictureInPicture(this.player.tag)},onNewContent:function(){BPLR.log("PIP onNewContent : onNewContent called()!");this.tryToShowPIPButton();if(!this.player.isPipActive)return BPLR.log("PIP onNewContent : PIP mode was not active. Do nothing.");if(this.player.hasPreroll)return BPLR.log("PIP onNewContent : Preroll is scheduled to appear. onAdStart() method will do the rest.");BPLR.log("PIP this.currentTechName",this.currentTechName);
this.currentTechName!==this.player.techName&&(BPLR.log("PIP onNewContent : Tech has changed, try to enter PIP!"),this.enterPictureInPicture(this.player.tag));this.currentTechName=this.player.techName},onEnded:function(){this.hide()},onPlaylistComplete:function(){BPLR.log("PIP onPlaylistComplete : called()!");this.leavePictureInPicture()},onDestroyBefore:function(){BPLR.log("PIP onDestroyBefore : called()!");this.leavePictureInPicture()},onClick:function(){BPLR.log("PIP onClick : called()!");this.player.trigger("userInteraction");
this.player.isPipActive?this.leavePictureInPicture():this.enterPictureInPicture(this.player.tag)}});BPLR.Playlist=Q.extend({svg:"240 240'><g><rect x='38.2' y='29.1' fill='#FFFFFF' width='163.6' height='9.1'/><rect x='29.1' y='47.3' fill='#FFFFFF' width='181.8' height='9.1'/><path fill='#FFFFFF' d='M218.7,65.5H21.3c-0.7,0-1.3,0.5-1.3,1.2v143.1c0,0.6,0.6,1.2,1.3,1.2h197.4c0.7,0,1.3-0.5,1.3-1.2V66.6C220,66,219.4,65.5,218.7,65.5z M92.7,165.5v-54.5l63.6,27.3L92.7,165.5z'/></g>",default:{title:"View Playlist"},
init:function ya(q,P){P.name="OpenPlaylist";0!=q.config.playlistScreen&&(q.config.translate&&q.config.translate.playlist&&(this.default.title=q.config.translate.playlist),ya.base.call(this,q,P),this.el.innerHTML=a.generateSVG(q.config.Skin.OpenPlaylist||this.svg),q.add(["start","enableInteraction"],this.$f(this.fadeIn)),q.add("disableInteraction",this.$f(this.fadeOut)))},appendClassName:function P(){return"bplr-playlist-control bplr-control "+P.base.call(this)},onClick:function(){this.player.trigger("openPlaylistScreen");
this.player.trigger("userInteractionLow")}});BPLR.PreviousButtonOverlay=BPLR.OverlayButton.extend({svg:"24 24'><g fill='#000' transform='scale(1.06) translate(0 0.1)' opacity='0.3'><polygon points='18.4,4.3 7.3,12 18.4,19.7'/><rect x='5.6' y='4.3' width='1.8' height='15.3'/></g><g fill='#FFFFFF'><polygon points='18.4,4.3 7.3,12 18.4,19.7'/><rect x='5.6' y='4.3' width='1.8' height='15.3'/></g>",default:{title:"Previous Video"},init:function gb(ya,Ha){Ha.name="Previous";if(0!=ya.config.next){ya.config.translate&&
ya.config.translate.prev_video&&(this.default.title=ya.config.translate.prev_video);gb.base.call(this,ya,Ha);this.el.innerHTML=a.generateSVG(this.player.config.Skin.Previous||this.svg,this.player.id);this.fadeOut();if(ya.config.player_mod&&"native"==ya.config.player_mod)return this.hide(),!1;ya.add(["start","enableInteraction"],this.$f(this.checkToShow))}},appendClassName:function Ha(){return"bplr-overlay-previous-button "+Ha.base.call(this)},onClick:function(){this.player.previous()},checkToShow:function(){var Ha=
this.player;"loop"!=Ha.config.afterPlaylistEnd&&0==Ha.currentIndex||Ha.getAdInProgress()||1==Ha.playlistLength?(this.hide(),this.fadeOut()):(this.show(),this.fadeIn())}});BPLR.RewindButtonOverlay=BPLR.OverlayButton.extend({svg:"50 41.2'><g fill='#000' transform='scale(1.06) translate(0 0.1)' opacity='0.3'><path d='M14.5,39h-3.9V26.7l-3.8,1.1v-2.9l7.3-2.5h0.4V39z'/><path d='M28.5,32.2c0,2.2-0.5,4-1.5,5.2c-1,1.2-2.4,1.8-4.3,1.8c-1.8,0-3.3-0.6-4.3-1.8c-1-1.2-1.5-2.9-1.5-5.2v-3c0-2.2,0.5-4,1.5-5.2c1-1.2,2.4-1.8,4.3-1.8c1.8,0,3.3,0.6,4.3,1.8c1,1.2,1.5,3,1.5,5.2V32.2z M24.7,28.6c0-1.2-0.2-2.1-0.5-2.7c-0.3-0.6-0.8-0.9-1.5-0.9c-0.7,0-1.1,0.3-1.4,0.8c-0.3,0.5-0.5,1.4-0.5,2.5v4.2c0,1.2,0.2,2.1,0.5,2.7c0.3,0.6,0.8,0.9,1.5,0.9c0.7,0,1.1-0.3,1.4-0.8c0.3-0.6,0.5-1.4,0.5-2.6V28.6z'/><polygon points='13.6,5.8 13.6,0.1 0.4,9.2 13.6,18.2 13.6,13 42.6,13 42.6,33.9 35.6,33.9 30.9,41.1 49.8,41.1 49.8,5.8 '/></g><g fill='#ffffff'><path d='M14.5,39h-3.9V26.7l-3.8,1.1v-2.9l7.3-2.5h0.4V39z'/><path d='M28.5,32.2c0,2.2-0.5,4-1.5,5.2c-1,1.2-2.4,1.8-4.3,1.8c-1.8,0-3.3-0.6-4.3-1.8c-1-1.2-1.5-2.9-1.5-5.2v-3c0-2.2,0.5-4,1.5-5.2c1-1.2,2.4-1.8,4.3-1.8c1.8,0,3.3,0.6,4.3,1.8c1,1.2,1.5,3,1.5,5.2V32.2z M24.7,28.6c0-1.2-0.2-2.1-0.5-2.7c-0.3-0.6-0.8-0.9-1.5-0.9c-0.7,0-1.1,0.3-1.4,0.8c-0.3,0.5-0.5,1.4-0.5,2.5v4.2c0,1.2,0.2,2.1,0.5,2.7c0.3,0.6,0.8,0.9,1.5,0.9c0.7,0,1.1-0.3,1.4-0.8c0.3-0.6,0.5-1.4,0.5-2.6V28.6z'/><polygon points='13.6,5.8 13.6,0.1 0.4,9.2 13.6,18.2 13.6,13 42.6,13 42.6,33.9 35.6,33.9 30.9,41.1 49.8,41.1 49.8,5.8 '/></g>",
default:{title:"Rewind 10 Seconds"},init:function Va(gb,Kb){Kb.name="Rewind";gb.config.translate&&gb.config.translate.rewind&&(this.default.title=gb.config.translate.rewind);Va.base.call(this,gb,Kb);this.el.innerHTML=a.generateSVG(this.player.config.Skin.Rewind||this.svg,this.player.id);this.fadeOut();if(gb.config.player_mod&&"native"==gb.config.player_mod)return this.hide(),!1;gb.add(["start","enableInteraction"],this.$f(this.checkToShow))},appendClassName:function Kb(){return"bplr-overlay-rewind-button "+
Kb.base.call(this)},onClick:function(){this.player.progressControl.seekBar.stepBack(10)},checkToShow:function(){this.player.getAdInProgress()?this.fadeOut():this.fadeIn()}});BPLR.NextButtonOverlay=BPLR.OverlayButton.extend({svg:"24 24'><g fill='#000' transform='scale(1.06) translate(0 0.1)' opacity='0.3'><polygon points='5.6,4.3 16.7,12 5.6,19.7'/><rect x='16.7' y='4.3' width='1.8' height='15.3'/></g><g fill='#FFFFFF'><polygon points='5.6,4.3 16.7,12 5.6,19.7'/><rect x='16.7' y='4.3' width='1.8' height='15.3'/></g>",
default:{title:"Next Video"},init:function x(Va,Wa){Wa.name="Next";if(0!=Va.config.next){Va.config.translate&&Va.config.translate.next_video&&(this.default.title=Va.config.translate.next_video);x.base.call(this,Va,Wa);this.el.innerHTML=a.generateSVG(this.player.config.Skin.Next||this.svg,this.player.id);this.fadeOut();if(Va.config.player_mod&&"native"==Va.config.player_mod)return this.hide(),!1;Va.add(["start","enableInteraction","playlistchange"],this.$f(this.checkToShow))}},appendClassName:function Wa(){return"bplr-overlay-next-button "+
Wa.base.call(this)},onClick:function(){this.player.next()},checkToShow:function(){var Wa=this.player;"loop"!=Wa.config.afterPlaylistEnd&&Wa.currentIndex==Wa.videos.length-1||Wa.getAdInProgress()||1==Wa.playlistLength?(this.hide(),this.fadeOut()):(this.show(),this.fadeIn())}});BPLR.PlayButtonOverlay=BPLR.OverlayButton.extend({svg_play:"60 59.8'><path fill='#000' transform='scale(1.03) translate(0 0.2)' opacity='0.3' d='M5.5,58.8V1l51.7,29L5.5,58.8z'></path><path fill='#FFFFFF' d='M5.5,58.8V1l51.7,29L5.5,58.8z'></path>",
svg_pause:"60 59.8'><g fill='#000' transform='scale(1.03) translate(0 0.1)' opacity='0.3'><rect x='16.0' y='14.1' width='10.1' height='33.7'/><rect x='34.1' y='14.1' width='10.1' height='33.7'/></g><g><rect x='16.0' y='14.1' fill='#FFFFFF' width='10.1' height='33.7'/><rect x='34.1' y='14.1' fill='#FFFFFF' width='10.1' height='33.7'/></g>",svg_repeat:"20.4 20'><path transform='scale(1.05)' fill='#000' opacity='0.3' d='M15.7,10.1c0,0.1,0,0.2,0,0.4c0,3.1-2.5,5.5-5.5,5.5s-5.5-2.5-5.5-5.5C4.7,7.4,7.2,5,10.2,5v1.7l4.4-3.1 l-4.4-3v1.7c-4.4,0-8,3.6-8,8c0,4.4,3.6,8,8,8s8-3.6,8-8c0.1-0.1,0.1-0.2,0.1-0.4L15.7,10.1z'/><path fill='#FFFFFF' d='M15.7,10.1c0,0.1,0,0.2,0,0.4c0,3.1-2.5,5.5-5.5,5.5s-5.5-2.5-5.5-5.5C4.7,7.4,7.2,5,10.2,5v1.7l4.4-3.1 l-4.4-3v1.7c-4.4,0-8,3.6-8,8c0,4.4,3.6,8,8,8s8-3.6,8-8c0.1-0.1,0.1-0.2,0.1-0.4L15.7,10.1z'/>",
default:{title:"Play Video",title_pause:"Pause Video",title_repeat:"Repeat"},init:function B(x,ca){x.config.translate&&x.config.translate.play&&(this.default.title=x.config.translate.play);x.config.translate&&x.config.translate.pause&&(this.default.title_pause=x.config.translate.pause);x.config.translate&&x.config.translate.repeat&&(this.default.title_repeat=x.config.translate.repeat);B.base.call(this,x,ca);this.name="BPLR.PlayButtonOverlay";BPLR.log("PlayButtonOverlay init");Aa()&&(this.skin={play:x.config.customPlayButton?
'<img src="'+x.config.customPlayButton+'" />':a.generateSVG(x.config.Skin.PlayButtonOverlay||this.svg_play,x.id),pause:a.generateSVG(x.config.Skin.PauseButtonOverlay||this.svg_pause,x.id),repeat:a.generateSVG(x.config.Skin.Repeat||this.svg_repeat,x.id)},this.title={play:this.default.title,pause:this.default.title_pause,repeat:this.default.title_repeat});x.config.primaryColor&&this.setPrimaryColor(x.config.primaryColor);x.add(["start","enableInteraction"],this.$f(this.checkToShow));x.add(["play","pause"],
this.$f(this.onPlayPause));x.add("requestAd",this.$f(this.onRequestAd));x.addOnce("ready",this.$f(this.onPlayButtonReady))},appendClassName:function ca(){return"bplr-overlay-play-button "+ca.base.call(this)},onPlayButtonReady:function(){BPLR.log("PlayButtonOverlay onReady");this.toDefault()},onClick:function(ca){this.player.isReady&&(this.player.trigger("userInteraction"),this.player.togglePlay(ca))},onPlayPause:function(){this.player.config.autoplay_on_ad&&this.player.waitingForAd||this.skin&&(this.player.paused()?
this.toggleSkin(this.player.ended()?"repeat":"play"):this.toggleSkin("pause"))},toggleSkin:function(ca){!this.player.tech.support.hasPoster&&Aa()&&this.skin[ca]&&(this.skinActive=ca,this.el.innerHTML=this.skin[ca],this.el.title=this.title[ca],this.primaryColor&&this.setPrimaryColor(this.primaryColor))},setPrimaryColor:function(ca){this.primaryColor=ca;if(this.player.config.Skin.id&&1==this.player.config.Skin.id)if(this.skinActive&&"play"!=this.skinActive&&"repeat"!=this.skinActive){var B=this.el.getElementsByTagName("rect")[2],
K=this.el.getElementsByTagName("rect")[3];B&&B.setAttribute("fill",ca);K&&K.setAttribute("fill",ca)}else(B=this.el.getElementsByTagName("path")[1])&&B.setAttribute("fill",ca)},toDefault:function(){var ca=this.player;BPLR.log("PlayButtonOverlay toDefault");ca.getAdInProgress()?this.hide():(this.toggleSkin("play"),this.show(),this.fadeIn())},checkToShow:function(){this.player.getAdInProgress()?(this.hide(),this.fadeOut()):(this.show(),this.fadeIn())},onRequestAd:function(){a.hasClass(this.player.el,
"bplr-started")||this.player.config.autoplay_on_ad||(this.hide(),this.fadeOut())},resetSkin:function B(){this.skin={play:a.generateSVG(this.player.config.Skin.PlayButtonOverlay,this.player.id),pause:a.generateSVG(this.player.config.Skin.PauseButtonOverlay,this.player.id),repeat:a.generateSVG(this.player.config.Skin.Repeat,this.player.id)};B.base.call(this)}});BPLR.VideoBackground=BPLR.Class.extend({active:!1,init:function(B,K){this.player=B;B.add("start",a.$f(this,this.onNewContent));B.add("play",
a.$f(this,this.onPlay));B.add("pause",a.$f(this,this.onPause));B.add("ended",a.$f(this,this.onPause));B.add("abort",a.$f(this,this.onAbort));B.add("timeupdate",a.$f(this,this.onTimeupdate));B.addOnce("ready",a.$f(this,this.onNewContent))},createElement:function(){this.video||(BPLR.log("BPLR VideoBackground create element"),this.video=za.createElement("video"),this.video.className="bplr-video-bg",this.video.muted=!0,this.player.el.insertBefore(this.video,this.player.el.childNodes[0]))},onNewContent:function(){BPLR.log("BPLR VideoBackground onNewContent",
this.player.currentSource.video_background);if(this.active=this.player.currentSource.video_background){this.createElement();var B=this.player.currentSource.src;if("m3u8"!=B.substr(B.length-4)||BPLR.html5.canPlaySource({type:"application/x-mpegURL"}))BPLR.log("BPLR VideoBackground setting src",this.video.src,B),this.video.src=B;else if("function"==typeof Hls){var K=new Hls;K.loadSource(B);K.attachMedia(this.video)}else this.active=!1,this.video.removeAttribute("src"),this.video.load()}else if(this.video)this.onAbort()},
onPlay:function(){this.active&&this.video.src&&!this.player.getAdInProgress()&&this.video.play()},onPause:function(){this.active&&!this.player.getAdInProgress()&&this.video.pause()},onAbort:function(){this.video&&(this.video.pause(),this.video.removeAttribute("src"),this.video.load())},onTimeupdate:function(){this.active&&this.video.src&&0!=this.player.tag.currentTime&&!this.player.getAdInProgress()&&(.2<Math.abs(this.video.currentTime-this.player.tag.currentTime)&&(BPLR.log("BPLR VideoBackground sync",
this.video.currentTime,this.player.tag.currentTime),this.video.currentTime=this.player.tag.currentTime),this.video.paused&&!this.player.tag.paused&&this.video.play())}});BPLR.Credits=l.extend({init:function Lb(K,ma){this.showInside=!!K.config.credits_inside||K.config.playlist&&K.config.playlist.widget_type;Lb.base.call(this,K,ma);K.add(["newContent","start"],this.$f(this.checkToShow));K.add("enableInteraction",this.$f(function(){this.setVisible(!0)}));K.add("disableInteraction",this.$f(function(){this.setVisible(!1)}));
K.add("playerresize",this.$f(this.resize));K.addOnce("ready",this.$f(this.checkToCreate));K.credits=this;this.hide()},checkToCreate:function(){!this.inited&&this.player.videos.find(function(K){return K.credits&&K.credits.length})&&(BPLR.log("Credits initializing"),this.inited=!0,this.show(),this.showInside?(a.insertAfter(this.player.tag,this.el),this.checkToShow()):(a.insertAfter(this.player.el,this.el),this.setDarkOrLightColor(),this.checkToShow(),this.player.config.center_in_parent&&this.addClass("bplr-center")))},
createElement:function ma(){return ma.base.call(this,"div",{className:this.showInside?"bplr-credits-in":"bplr-credits"})},checkToShow:function(){this.player.currentSource.credits&&this.player.currentSource.credits.length?(this.el.innerHTML=(this.player.config.translate&&this.player.config.translate.source||"Source")+": "+this.player.currentSource.credits,this.resize(),this.setVisible(!0),this.checkToCreate()):(this.el.innerHTML="&nbsp;",this.setVisible(!1))},setVisible:function(ma){!this.showInside&&
this.inited&&(ma?this.addClass("bplr-credits-visible"):this.removeClass("bplr-credits-visible"))},resize:function(){!this.showInside&&this.inited&&(this.el.style.width=this.player.el.clientWidth+"px")},setDarkOrLightColor:function(){function ma(Sb){var zb=za.createElement("div");za.head.appendChild(zb);var Tb=da.getComputedStyle(zb).backgroundColor;za.head.removeChild(zb);zb=da.getComputedStyle(Sb).backgroundColor;return zb!=Tb?zb:Sb.parentElement?ma(Sb.parentElement):Tb}var Lb=ma(this.el),Xa=a.rgbValues(Lb),
Ub=.2126*Xa.r+.7152*Xa.g+.0722*Xa.b;Xa=120<Ub||!Xa.g&&!Xa.g&&!Xa.b&&!Xa.a;BPLR.log("Credits bgColor",Lb,"luminosity",Ub,"isLight",Xa);Xa?this.removeClass("bplr-credits-dark"):this.addClass("bplr-credits-dark")}});da.$bp.plugin("bridcontrols",function(ma){ma=ma||this;ma.isReady?ma.addChild(new da.$bp.ControlBar(ma,config)):da.$bp.Util.merge(ma.config.children,{controls:{childClass:"ControlBar"}})});Vb.trigger(za,"bridpluginloaded")})(window,document);
