(function(e,r){var m=r.BPLRIframeBurst?e.top:e,q=m.document,u=BPLR.Abstract,f=BPLR.Util,p=BPLR.event,t=f.createElement;playerPosType=(BPLR.Player||BPLR.OSPlayer).positionType;e.$bp.SlideInView=u.extend({scrolledOver:!1,inTransition:!1,transitionSpeed:50,transitionTimeout:80,movedFromBanner:!1,defaultCss:'.bplr-slideinview-timer{color:#fff;text-shadow:1px 1px 4px #000}.bplr-slideinview-timer{width:20px;font-family:Helvetica,Arial;line-height:20px!important;height:20px;position:fixed;text-align:center;font-size:16px!important}.bplr-close-swipe{height:20px;position:absolute;top:-20px;right:40px;color:white;font-size:11px !important; text-shadow: 0 0 5px rgba(0,0,0,0.8);}.bplr-swipe-animation{line-height:20px;font-size:11px;opacity:0.5;animation-duration:1s;animation-iteration-count:infinite;} @keyframes bplr-anim-first {0% {opacity: 0.5; } 33% {opacity: 1;} } @keyframes bplr-anim-sec {34% {opacity: 0.5;} 67% {opacity: 1; } } @keyframes bplr-anim-third { 67% {opacity: 0.5;} 100% {opacity: 1;} } .bplr-swipe-animation:nth-of-type(1) { animation-name: bplr-anim-third;}.bplr-swipe-animation:nth-of-type(2) {animation-name: bplr-anim-sec;}.bplr-swipe-animation:nth-of-type(3) {animation-name: bplr-anim-first;}.bplr-sticky.bplr-avoid-banners{transition:transform 0.05s!important}.bplr-slideinview-dummy{pointer-events:none;z-index:2000000}.bplr-title-above .bplr-sticky {overflow:initial!important;}.bplr-title-above .bplr-sticky .bplr-poster-title {height:30px;margin-top:-30px;background:rgba(0,0,0,0.85);display:block!important;opacity:1!important;border-bottom:2px solid black;border-radius:4px 4px 0 0;}.bplr-title-above .bplr-sticky .bplr-poster-title div {text-shadow:none;line-height:30px;top:0;margin:0;right:30px;}.bplr-title-above.bplr-onad .bplr-sticky .bplr-poster-title div{color:transparent;}.bplr-title-above.bplr-onad .bplr-sticky .bplr-poster-title div:before{content:"--AD--";color:white;}',
init:function c(d,a){BPLR.log("$bp.SlideInView init");d.config.inCms||!d.config.inview||"inslide"===d.config.type||d.config.slide_inview_session&&f.getSessionStorage("sticky_closed")||(c.base.call(this,d,a),d.closed=!1,d.addOnce("ready",this.$f(this._onPlayerReady)),d.add(["play","fullscreenchange","adImpression"],this.$f(this._onScroll)),d.add("anyadFinished",this.$f(this.onAnyadFinished)),d.add("playerresize",this.$f(this.repositionCloseButton)),d.config.sticky_title_above?(d.config.unsticky_btn=
"top-right",d.addClass("bplr-title-above")):"top-right-inside"==d.config.unsticky_btn?d.addClass("bplr-unsticky-inside-right"):"top-left-inside"==d.config.unsticky_btn&&d.addClass("bplr-unsticky-inside-left"),f.isMobilePlatform()&&(void 0!=d.config.inview.position_mobile&&(d.config.inview.position=d.config.inview.position_mobile),void 0!=d.config.inview.width_mobile&&(d.config.inview.width=d.config.inview.width_mobile),void 0!=d.config.inview.height_mobile&&(d.config.inview.height=d.config.inview.height_mobile),
void 0!=d.config.inviewTopOffset_mobile&&(d.config.inviewTopOffset=d.config.inviewTopOffset_mobile),void 0!=d.config.inviewBottomOffset_mobile&&(d.config.inviewBottomOffset=d.config.inviewBottomOffset_mobile),void 0!=d.config.inviewLeftOffset_mobile&&(d.config.inviewLeftOffset=d.config.inviewLeftOffset_mobile),void 0!=d.config.inviewRightOffset_mobile&&(d.config.inviewRightOffset=d.config.inviewRightOffset_mobile)),this.defaultCss=this.defaultCss.replace("--AD--",d.config.sticky_title_above_text||
(d.config.translate&&d.config.translate.ad?d.config.translate.ad:"Advertisement")),f.createCSS(this.defaultCss,"bridslideinviewclose",d),this.slideInViewPos=d.config.inview.position||0,this.marginPos=3>this.slideInViewPos&&0<this.slideInViewPos?"margin-left":"margin-right",this.isInDefault=!0)},destroy:function a(){BPLR.log("SlideInView destroy");p.remove(e,"orientationchange",this.$f(this.orientationChange));p.remove(m,"resize",f.throttle(this.$f(this.orientationChange),250,this));p.remove(m,"scroll",
this.$f(this._onScroll));this.close&&(this.close.destroy(),this.close=null);this.stickyDummy&&this.stickyDummy.parentNode.removeChild(this.stickyDummy);clearInterval(this.delayedBannerCheckTimeout);a.base.call(this)},_onPlayerReady:function(){p.add(m,"scroll",this.$f(this._onScroll));this._onScroll()},_onScroll:function(a){if(!this.manualForced&&!this.inTransition){var c=this.player,b=m.pageYOffset||q.body.scrollTop;b=BPLR.findPosY(c.el)-b;this.previouslyPaused=c.pausedOnInteraction;this.userScrolled||
(this.scrollYs=this.scrollYs||[],-1==this.scrollYs.indexOf(m.scrollY)&&this.scrollYs.push(m.scrollY),1<this.scrollYs.length&&(this.userScrolled=!0,delete this.scrollYs));if(!c.config.stickyWaitsScroll||this.userScrolled)if(c.isPlayerInView()&&(this.scrolledOver=!0),c.config.autoplayInview&&!c.config.autoplayStickyAdOnly||!a||"play"!==a.type||(this.scrolledOver=!0),this.player.config.avoidBanners&&0<this.bannersGotOnHeight&&this.findBannersOnPage(),BPLR.log("SlideInView positionType",c.positionType,
"isInView",c.isPlayerInView(),"playing",c.isPlaying,"adInProgress",c.getAdInProgress(),"scrolledOver",this.scrolledOver,"blurred",c.windowBlurred),c.positionType===playerPosType.NORMAL&&!c.isPlayerInView()&&(c.isPlaying||c.waitingForAd||c.getAdInProgress())&&!c.closed&&this.scrolledOver)c.config.autoplay&&c.config.autoplay_on_ad&&c.waitingForAd||c.config.autoplayStickyAdOnly&&c.waitingForAd||c.isPipActive||"below"==c.config.stickyDirection&&0<b||"above"==c.config.stickyDirection&&b+c.el.offsetHeight<
m.innerHeight||this.show(2>this.slideInViewPos?"bottom":"top",3>this.slideInViewPos&&0<this.slideInViewPos?"left":"right");else if(c.positionType===playerPosType.IN_GLIDE&&!c.windowBlurred){if(this.banners&&0<this.banners.length)if(this.movedFromBanner){a=!0;for(b=0;b<this.banners.length;b++)this.checkSameHeight(this.player.playerHolder.el,this.banners[b])&&(a=!1);a&&this.moveFromBannerBack()}else for(b=0;b<this.banners.length;b++)this.checkOverlap(this.player.playerHolder.el,this.banners[b])&&(this.stickyDummy?
this._toDefault():this.moveFromBanner(this.calculateMoveOffset(this.player.playerHolder.el,this.banners[b])));c.isPlayerInView(null,c.el)&&this._toDefault()}}},_toDefault:function(){if(!this.inTransition&&this.player.positionType!==playerPosType.NORMAL){var a=this.player;a.trigger("stickyChange",{sticky:!1,interaction:a.closed});a.remove(["adEnd","adError"],this.$f(this.showCloseButton));a.remove("adStart",this.$f(this.addCloseButtonEvents));this.closeButtonInterval&&(clearInterval(this.closeButtonInterval),
this.closeButtonInterval=null);this.close&&this.close.el.parentNode&&(this.close.el.parentNode.removeChild(this.close.el),this.close.destroy(),this.close=null);this.closeTimer&&this.closeTimer.parentNode&&this.closeTimer.parentNode.removeChild(this.closeTimer);this.player.close&&this.player.close.show();BPLR.findPosX(a.el);BPLR.findPosY(a.el);var c=e.$bp.SlideInView.bridslideinview.players[this.position],b=c.indexOf(a);c.splice(b,1);0<c.length&&c.map(this.$f(function(g,h){b<=h&&this.repositionStack(g,
this.position)}));this.inTransition=!0;c={};c[this.marginPos]="-400px";a.playerHolder.el.style.transition="margin "+this.transitionSpeed+"ms ease-in-out";f.transitionHelper(a.playerHolder.el,c,this.$f(function(){p.remove(e,"orientationchange",this.$f(this.orientationChange));p.remove(m,"resize",f.throttle(this.$f(this.orientationChange),250,this));a.playerHolder.el.style.opacity=0;a.playerHolder.el.style.top="";a.playerHolder.el.style.left="";a.playerHolder.el.style.right="";a.playerHolder.el.style.bottom=
"";a.playerHolder.el.style.position="";a.playerHolder.el.style.zIndex="0";a.playerHolder.el.style.marginLeft="";a.playerHolder.el.style.marginRight="";a.playerHolder.el.style.width="";a.playerHolder.el.style.height="";a.playerHolder.el.style.overflow="";"BPLR.Player"==this.player.name?a.playerHolder.el.style.paddingBottom=parseFloat(a.el.clientWidth)/parseFloat(a.el.clientHeight)*100+"%":f.css(a.playerHolder.el,{position:"absolute",top:"0px",left:"0px",width:"100%",height:"100%","will-change":"auto"});
this.placeholderPoster&&a.el&&this.placeholderPoster.parentNode==a.el&&a.el.removeChild(this.placeholderPoster);a.bannerMode&&a.anyAdMode&&(a.Advertising.currentAdsManager.anyad.style.top="",a.Advertising.currentAdsManager.anyad.style.left="",a.Advertising.currentAdsManager.anyad.style.right="",a.Advertising.currentAdsManager.anyad.style.bottom="",a.Advertising.currentAdsManager.anyad.style.position="",a.Advertising.currentAdsManager.anyad.style.zIndex="0",a.Advertising.currentAdsManager.anyad.style.marginLeft=
"",a.Advertising.currentAdsManager.anyad.style.marginRight="");a.positionType=playerPosType.NORMAL;a.bannerMode&&a.anyAdMode||a.resize();a.config.sticky_title_above_text&&a.titleBar&&(a.titleBar.div.innerHTML=a.currentSource.title||a.currentSource.name||"");a.playerHolder.el.style.clipPath="";a.playerHolder.removeClass("bplr-sticky");this.moveFromBannerBack();a.playerHolder.el.style.transition="opacity "+this.transitionSpeed+"ms ease-in-out";f.transitionHelper(a.playerHolder.el,{opacity:1},this.$f(function(){this.isInDefault=
!0;this.inTransition=!1;if(this.hiddenTimers)for(var g=0;g<this.hiddenTimers.length;g++)"0"!=this.hiddenTimers[g].innerHTML&&(this.hiddenTimers[g].style.display="");this._onScroll();a.onScroll()}),this.transitionTimeout)}),this.transitionTimeout)}},repositionStack:function(a,c){a=a.playerHolder.el.style;a[c]=parseInt(a[c])-parseInt(a.height)+"px"},showCloseButton:function(){var a=parseInt(this.closeButtonTime/1E3);if(this.isInDefault)return!1;0==a?(BPLR.log("SlideInView not timer",a),this.player.el&&
this.player.el.parentNode&&this.player.el.parentNode.insertBefore(this.close.el,this.player.el.nextSibling)):this.closeButtonInterval||(this.closeButtonInterval=setInterval(this.$f(function(){BPLR.log("SlideInView showCloseButton",this.player.close,this.closeButtonTime,a);this.closeTimer.innerHTML=a;this.closeTimer.style.display="block";a--;-1>=a&&(this.closeTimer&&this.closeTimer.parentNode&&this.closeTimer.parentNode.removeChild(this.closeTimer),clearInterval(this.closeButtonInterval),this.closeButtonInterval=
null,this.player.el&&this.player.el.parentNode&&(this.closeButtonShown=!0,this.player.el.parentNode.insertBefore(this.close.el,this.player.el.nextSibling)))}),this.closeButtonTime?1E3:0))},addCloseButtonEvents:function(){this.player.addOnce(["adEnd","adError"],this.$f(this.showCloseButton));this.close&&this.close.el.parentNode&&this.close.el.parentNode.removeChild(this.close.el)},calculateSizesAndPositions:function(){var a=this.player;BPLR.findPosX(a.el);BPLR.findPosY(a.el);var c=m.pageYOffset||q.body.scrollTop,
b=a.config.inview.width,g=a.config.inview.height,h=Math.min(m.innerWidth,m.outerWidth),k=m.innerHeight,l=!1;"string"===typeof b&&-1!=b.indexOf("%")&&(b=h*parseFloat(b)/100,l=!0);f.isMobilePlatform()&&!f.isTabletPlatform()&&a.config&&m.matchMedia("(orientation: landscape)").matches&&(a.config.mobile_width_inview_landscape&&"0"!=a.config.mobile_width_inview_landscape&&(b=h*parseFloat(a.config.mobile_width_inview_landscape)/100),l=!0);f.isMobilePlatform()&&!f.isTabletPlatform()&&a.config&&m.matchMedia("(orientation: portrait)").matches&&
(a.config.mobile_width_inview&&"0"!=a.config.mobile_width_inview&&(b=h*parseFloat(a.config.mobile_width_inview)/100),l=!0);g=!l&&g||9*b/16;l=5+("top"===this.position?f.getFixedHeadHeight(a):0)+this.length*g;if(f.isFacebookApp()&&f.isIOS()){var n=q.documentElement.clientHeight-k;l="top"===this.position?70>m.pageYOffset?l+m.pageYOffset:l+n:l+n;this.lastScrollTop=c}"top"==this.position&&(l+=25);b=a.bannerMode&&300>b?300:b;g=a.bannerMode&&250>g?250:g;f.isMobilePlatform()&&!f.isTabletPlatform()&&a.config.mobileWidthSticky&&
a.config.mobileHeightSticky&&(b=this.convertToPixels(a.config.mobileWidthSticky,h),g=this.convertToPixels(a.config.mobileHeightSticky,k),BPLR.log("SlideInView forcing mobile size",b,g));return{width:b,height:g,newTop:l}},show:function(a,c){var b=this.player;this.position=a;if(!this.inTransition){if(this.stickyDummy&&this.banners&&0<this.banners.length)for(var g=0;g<this.banners.length;g++)if(this.checkOverlap(this.stickyDummy,this.banners[g]))return!1;b.config.staySticky&&(p.remove(m,"scroll",this.$f(this._onScroll)),
this.manualForced=!0);-1===e.$bp.SlideInView.bridslideinview.players[a].indexOf(b)&&e.$bp.SlideInView.bridslideinview.players[a].push(b);this.length=e.$bp.SlideInView.bridslideinview.players[a].length-1;this.length=0>this.length?0:this.length;var h=this.calculateSizesAndPositions();BPLR.log("SlideInView show",this.position,c,"pageYOffset",m.pageYOffset,"positions",h);b.trigger("stickyChange",{sticky:!0,interaction:null});this.isInContent=/incontent|invideo/.test(b.config.type||"");this.closeButtonTime=
1E3*parseInt(this.isInContent&&b.config.stayinview_seconds?b.config.stayinview_seconds:b.config.slide_inview_seconds);if("custom"!==b.config.slide_inview_show&&!this.isInContent||this.closeButtonShown)this.closeButtonTime=0;this.close||(this.close=new BPLR.Close(b,{name:"Close"}),this.close.add("close",this.$f(function(){f.setSessionStorage("sticky_closed",!0,b.config);b.closed=!0;this._toDefault()})),this.closeTimer=f.createElement("div",{className:"bplr-slideinview-timer"}),0<this.closeButtonTime&&
b.el.parentNode.insertBefore(this.closeTimer,b.el.nextSibling));b.config.avoidBanners&&(this.bannersGotOnHeight=0,this.findBannersOnPage(),this.player.addClass("bplr-avoid-banners"),b.config.avoidBannersToDefault&&!this.stickyDummy&&(this.stickyDummy=f.createElement("div",{className:"bplr-slideinview-dummy"}),this.stickyDummy.style.position="fixed",this.stickyDummy.style.top="top"===a?(void 0!=b.config.inviewTopOffset?this.convertToPixels(this.player.config.inviewTopOffset,e.innerHeight):h.newTop)+
"px":"auto",this.stickyDummy.style.bottom="bottom"===a?(void 0!=b.config.inviewBottomOffset?this.convertToPixels(b.config.inviewBottomOffset,e.innerHeight):h.newTop)+"px":"auto",this.stickyDummy.style.left="left"===c?this.convertToPixels(void 0!=b.config.inviewLeftOffset?b.config.inviewLeftOffset:5,e.innerWidth)+"px":"auto",this.stickyDummy.style.right="left"===c?"auto":this.convertToPixels(void 0!=b.config.inviewRightOffset?b.config.inviewRightOffset:5,e.innerWidth)+"px",this.stickyDummy.style.width=
h.width+"px",this.stickyDummy.style.height=h.height+"px",this.player.el.parentNode.insertBefore(this.stickyDummy,this.player.el.nextSibling)));this.isInDefault=!1;this.inTransition=!0;f.addClass(b.playerHolder.el,"bplr-sticky");b.playerHolder.el.style.transition="opacity "+this.transitionSpeed+"ms ease-in-out";f.transitionHelper(b.playerHolder.el,{opacity:0},this.$f(function(){var k="BPLR.Player"==this.player.name?this.player.config.poster||this.player.currentSource.poster:this.player.config.placeholder?
this.player.config.placeholder_img?this.player.config.placeholder_img:"DEFAULT":null;k&&(this.placeholderPoster="DEFAULT"==k?t("div",{innerHTML:"ADVERTISEMENT",className:"bplr-unit-placeholder"}):t("img",{src:k,style:"width:100%; height: 100%; object-fit: cover;"}),this.player.el.appendChild(this.placeholderPoster));b.playerHolder.el.style.paddingBottom="";b.playerHolder.el.style.position="fixed";b.playerHolder.el.style.top="top"===a?(void 0!=b.config.inviewTopOffset?this.convertToPixels(this.player.config.inviewTopOffset,
e.innerHeight):h.newTop)+"px":"auto";b.playerHolder.el.style.bottom="bottom"===a?(void 0!=b.config.inviewBottomOffset?this.convertToPixels(b.config.inviewBottomOffset,e.innerHeight):h.newTop)+"px":"auto";b.playerHolder.el.style.width=h.width+"px";b.playerHolder.el.style.height=h.height+"px";b.playerHolder.el.style.zIndex="1000000";b.playerHolder.el.style.opacity=1;b.playerHolder.el.style.overflow="hidden";"left"===c?(b.playerHolder.el.style.marginLeft=-(parseInt(h.width)+10)+"px",b.playerHolder.el.style.left=
this.convertToPixels(void 0!=b.config.inviewLeftOffset?b.config.inviewLeftOffset:5,e.innerWidth)+"px",b.playerHolder.el.style.right="auto"):(b.playerHolder.el.style.marginRight=-(parseInt(h.width)+10)+"px",b.playerHolder.el.style.right=this.convertToPixels(void 0!=b.config.inviewRightOffset?b.config.inviewRightOffset:5,e.innerWidth)+"px",b.playerHolder.el.style.left="auto");b.bannerMode&&b.anyAdMode&&(b.Advertising.currentAdsManager.anyad.style.position="fixed",b.Advertising.currentAdsManager.anyad.style.top=
"top"===a?(void 0!=b.config.inviewTopOffset?this.convertToPixels(this.player.config.inviewTopOffset,e.innerHeight):h.newTop)+"px":"auto",b.Advertising.currentAdsManager.anyad.style.bottom="bottom"===a?(void 0!=b.config.inviewBottomOffset?this.convertToPixels(b.config.inviewBottomOffset,e.innerHeight):h.newTop)+"px":"auto",b.bannerMode&&b.anyAdMode||(b.Advertising.currentAdsManager.anyad.style.width=h.width+"px",b.Advertising.currentAdsManager.anyad.style.height=h.height+"px"),b.Advertising.currentAdsManager.anyad.style.zIndex=
"1000000",b.Advertising.currentAdsManager.anyad.style.opacity=1,"left"===c?(b.Advertising.currentAdsManager.anyad.style.marginLeft="0px",b.Advertising.currentAdsManager.anyad.style.left=this.convertToPixels(void 0!=b.config.inviewLeftOffset?b.config.inviewLeftOffset:5,e.innerWidth)+"px",b.Advertising.currentAdsManager.anyad.style.right="auto"):(b.Advertising.currentAdsManager.anyad.style.marginRight="0px",b.Advertising.currentAdsManager.anyad.style.right=this.convertToPixels(void 0!=b.config.inviewRightOffset?
b.config.inviewRightOffset:5,e.innerWidth)+"px",b.Advertising.currentAdsManager.anyad.style.left="auto"));b.config.sticky_border_radius&&"0"!==b.config.sticky_border_radius&&0!==b.config.sticky_border_radius&&(k=f.normalizeElementDimension(b.config.sticky_border_radius),b.playerHolder.el.style.clipPath=b.config.sticky_title_above?"inset(-30px 0 0 0 round "+k+")":"inset(0 0 0 0 round "+k+")");b.playerHolder.addClass("bplr-sticky");if(!b.resizeObserver)b.onResize();var l=this.getCloseCss();b.playerHolder.el.style.transition=
"margin "+this.transitionSpeed+"ms ease-in-out";b.playerHolder.el.style.opacity=1;k={};k[this.marginPos]="0px";f.transitionHelper(b.playerHolder.el,k,this.$f(function(){BPLR.log("SlideInView animation complete techName",b.techName,"paused",b.paused(),"previouslyPaused",this.previouslyPaused);p.add(e,"orientationchange",this.$f(this.orientationChange));p.add(m,"resize",f.throttle(this.$f(this.orientationChange),250,this));this.isInDefault=this.inTransition=!1;b.positionType=playerPosType.IN_GLIDE;
b.config.sticky_title_above_text&&b.titleBar&&(b.titleBar.div.innerHTML=b.config.sticky_title_above_text);this.close.css(l);f.css(this.closeTimer,l);this.close.addClass("bplr-close-banner");"ad_end"!==b.config.slide_inview_show?this.showCloseButton():b.showOnAd()||b.currentSource.monetize?(b.add("adStart",this.$f(this.addCloseButtonEvents)),b.getAdInProgress()?b.addOnce(["adEnd","adError"],this.$f(this.showCloseButton)):this.showCloseButton()):this.showCloseButton();this._onScroll()}),this.transitionTimeout);
f.isIOS()&&"html5"==b.techName&&!this.previouslyPaused&&b.paused()&&b.play();b.close&&b.close.hide();k=q.getElementsByClassName("bplr-banner-ad-timer");this.hiddenTimers=[];for(var n=0;n<k.length;n++)"none"!=k[n].style.display&&(k[n].style.display="none",this.hiddenTimers.push(k[n]));BPLR.log("SlideInView hiddenTimers",this.hiddenTimers)}),this.transitionTimeout)}},resizeAnyAd:function(){var a=this.player,c=2>this.slideInViewPos?"bottom":"top",b=3>this.slideInViewPos&&0<this.slideInViewPos?"left":
"right",g=this.calculateSizesAndPositions();a.Advertising.currentAdsManager.anyad.style.position="fixed";a.Advertising.currentAdsManager.anyad.style.top="top"===c?(void 0!=a.config.inviewTopOffset?this.convertToPixels(this.player.config.inviewTopOffset,e.innerHeight):g.newTop)+"px":"auto";a.Advertising.currentAdsManager.anyad.style.bottom="bottom"===c?(void 0!=a.config.inviewBottomOffset?this.convertToPixels(a.config.inviewBottomOffset,e.innerHeight):g.newTop)+"px":"auto";a.Advertising.currentAdsManager.anyad.style.width=
g.width+"px";a.Advertising.currentAdsManager.anyad.style.height=g.height+"px";a.Advertising.currentAdsManager.anyad.style.zIndex="1000000";a.Advertising.currentAdsManager.anyad.style.opacity=1;"left"===b?(a.Advertising.currentAdsManager.anyad.style.marginLeft="0px",a.Advertising.currentAdsManager.anyad.style.left=this.convertToPixels(void 0!=a.config.inviewLeftOffset?a.config.inviewLeftOffset:5,e.innerWidth)+"px",a.Advertising.currentAdsManager.anyad.style.right="auto"):(a.Advertising.currentAdsManager.anyad.style.marginRight=
"0px",a.Advertising.currentAdsManager.anyad.style.right=this.convertToPixels(void 0!=a.config.inviewRightOffset?a.config.inviewRightOffset:5,e.innerWidth)+"px",a.Advertising.currentAdsManager.anyad.style.left="auto")},forceShow:function(){this.manualForced=!0;this.show(2>this.slideInViewPos?"bottom":"top",3>this.slideInViewPos&&0<this.slideInViewPos?"left":"right")},forceHide:function(){this.manualForced=!0;this._toDefault()},getCloseCss:function(){var a=this.player.bannerMode&&this.player.anyAdMode?
this.player.Advertising.currentAdsManager.anyad:this.player.playerHolder.el,c=this.player.config.unsticky_btn||"top-right",b=-1!==c.indexOf("-right"),g=-1!==c.indexOf("-left");c=-1!==c.indexOf("-inside");var h=1<this.slideInViewPos,k=!this.isPositionedRight(),l=h?5+f.getFixedHeadHeight(this.player):5+a.offsetHeight+5+this.length*a.offsetHeight,n=k?5+a.offsetWidth-20:5;g&&(n=k?5:a.offsetWidth-25+5);c&&(l=h?34+f.getFixedHeadHeight(this.player):a.offsetHeight-20+this.length*a.offsetHeight,g&&(n+=k?5:
0),b&&(n+=k?-2:3));this.player.config.sticky_title_above&&(n-=k?3:-3,--l);void 0!=this.player.config.inviewTopOffset&&h&&(l+=this.convertToPixels(this.player.config.inviewTopOffset,e.innerHeight)-30);void 0==this.player.config.inviewBottomOffset||h||(l+=this.convertToPixels(this.player.config.inviewBottomOffset,e.innerHeight)-5);void 0!=this.player.config.inviewLeftOffset&&k&&(n+=this.convertToPixels(this.player.config.inviewLeftOffset,e.innerWidth)-5);void 0==this.player.config.inviewRightOffset||
k||(n+=this.convertToPixels(this.player.config.inviewRightOffset,e.innerWidth)-5);void 0!=this.player.config.closeButtonVerticalOffset&&(l+=this.convertToPixels(this.player.config.closeButtonVerticalOffset,e.innerWidth));void 0!=this.player.config.closeButtonHorizontalOffset&&(n+=this.convertToPixels(this.player.config.closeButtonHorizontalOffset,e.innerWidth));switch(this.slideInViewPos){case "1":a={position:"fixed",bottom:l+"px",left:n+"px",top:"",right:""};break;case "2":a={position:"fixed",top:l+
"px",left:n+"px",bottom:"",right:""};break;case "3":a={position:"fixed",top:l+"px",right:n+"px",bottom:"",left:""};break;default:a={position:"fixed",bottom:l+"px",right:n+"px",top:"",left:""}}c&&(a.transform="scale(0.9)");return a},repositionCloseButton:function(){if(this.close){var a=this.getCloseCss();this.close.css(a)}},onAnyadFinished:function(){if("inglide"==this.player.positionType&&this.player.currentSrc()){var a=this.calculateSizesAndPositions();this.player.el.style.width=a.width+"px";this.player.el.style.height=
a.height+"px";this.repositionCloseButton()}},findBannersOnPage:function(a){var c=this.banners?this.banners.length:0;this.player.config.avoidBanners&&(q.body.scrollHeight>this.bannersGotOnHeight||a)&&(this.banners=q.querySelectorAll("div[id^='google_ads_iframe_'] iframe[id], ins[class*='adsbygoogle']"),this.bannersGotOnHeight=q.body.scrollHeight,BPLR.log("SlideInView banners",this.banners,a),c!=this.banners.length&&(BPLR.log("SlideInView banners changed, call onScroll"),this._onScroll()),clearInterval(this.delayedBannerCheckTimeout),
this.delayedBannerCheckTimeout=setInterval(this.$f(function(){this.findBannersOnPage(!0)}),3E3))},moveFromBanner:function(a){this.movedFromBanner=!0;var c=this.player.playerHolder.el.getBoundingClientRect();c=(this.isPositionedRight()?Math.abs(a)-(q.documentElement.clientWidth-c.right):Math.abs(c.left+a))/c.width;this.player.playerHolder.el.style.transform="translateX("+a+"px)";this.close&&(this.close.el.style.transform=this.player.playerHolder.el.style.transform);.5<c&&this.player.isVideoOrAdPlaying()&&
(this.player.pause(),this.pausedOnBanner=!0)},moveFromBannerBack:function(){this.movedFromBanner&&(this.movedFromBanner=!1,this.player.playerHolder.el.style.transform="",this.close&&(this.close.el.style.transform=this.player.playerHolder.el.style.transform),this.pausedOnBanner&&(this.pausedOnBanner=!1,this.player.play()))},checkSameHeight:function(a,c){a=a.getBoundingClientRect();c=c.getBoundingClientRect();return a.top<=c.bottom&&c.top<=a.bottom},checkOverlap:function(a,c){a=a.getBoundingClientRect();
c=c.getBoundingClientRect();return a.left<=c.right&&c.left<=a.right&&a.top<=c.bottom&&c.top<=a.bottom},calculateMoveOffset:function(a,c){var b=a.getBoundingClientRect();c=c.getBoundingClientRect();if(this.isPositionedRight())return a=q.documentElement.clientWidth-b.right-parseInt(a.style.right),-(b.left-c.right-10+a);a=b.left-parseInt(a.style.left);return-(b.right-c.left+10-a)},resizeTempHolder:function(){},orientationChange:function(){if(!(this.player.positionType==playerPosType.NORMAL||this.player.bannerMode&&
this.player.anyAdMode)){var a=this.calculateSizesAndPositions();this.player.playerHolder.el.style.width=a.width+"px";this.player.playerHolder.el.style.height=a.height+"px"}},convertToPixels:function(a,c){return"string"===typeof a&&-1!=a.indexOf("%")?parseInt(parseInt(a)*c/100):parseInt(a)},isPositionedRight:function(){return 3>this.slideInViewPos&&0<this.slideInViewPos?!1:!0}});e.$bp.SlideInView.bridslideinview=e.$bp.SlideInView.bridslideinview||{players:{top:[],bottom:[]}};e.$bp.plugin("bridslideinview",
function(a){a=a||this;a.isReady?a.addChild(new e.$bp.SlideInView(a,config)):e.$bp.Util.merge(a.config.children,{SlideInView:{}})});p.trigger(r,"bridpluginloaded")})(window,document);
