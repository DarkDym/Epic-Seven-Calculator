(function(d,f){d.$bp.AssertiveYield=BPLR.Abstract.extend({init:function e(a,c){e.base.call(this,a,c);if(a.config.Prebid&&a.config.Prebid.assertive_yield&&a.config.Prebid.creatives){BPLR.log("Assertive yield initializing iframe, assertive exists on page?","undefined"!=typeof assertive);var b=f.createElement("iframe");f.body.appendChild(b);b.setAttribute("id","bp-assertive-yield-holder-"+Date.now());b.style.display="none";b.style.border="0";b.style.width="0px";b.style.height="0px";b.addEventListener("load",
function(g){this.assertiveWindow=b.contentWindow;this.loadAndInitialize()}.bind(this));b.contentWindow.document.open();b.contentWindow.document.write("<body></body>");b.contentWindow.document.close()}},loadAndInitialize:function(){this.assertiveWindow.assertive={debug:BPLR.debug,entityId:this.player.config.Prebid.assertive_yield,analytics:{sampleRate:1,custom:{}}};var a=this.assertiveWindow.document.createElement("script");a.onload=function(){BPLR.log("AssertiveYield script loaded")};a.src="https://"+
this.player.config.Prebid.assertive_yield+".ay.delivery/client-v2.js";this.assertiveWindow.document.body.appendChild(a);this.player.add("adImpression",this.$f(this.onAdImpression))},onAdImpression:function(a){if("prebid"==a.data.source||"combined"==a.data.source)try{var c=-1==["AdSense/ADX","Other","Amazon"].indexOf(a.data.bidder),e={slotId:"brid_video",mediaType:"brid_video",adUnitPath:a.data.unitIu,highestPreBid:a.data.cpm,highestPreBid_partner:a.data.bidder,creative_width:this.player.el.offsetWidth,
creative_height:this.player.el.offsetHeight,preBidWon:c,timeToRespond:null};BPLR.log("AssertiveYield logCustomImpression",e);this.assertiveWindow.assertive.logCustomImpression(e)}catch(b){BPLR.error("AssertiveYield couldn't log custom impression",b)}}});d.$bp.plugin("bridassertiveyield",function(a,c){a=a||this;c=c||{};a.isReady?a.addChild(new d.$bp.AssertiveYield(a,c)):d.$bp.Util.merge(a.config.children,{AssertiveYield:{}})});BPLR.event.trigger(f,"bridpluginloaded")})(window,document);
